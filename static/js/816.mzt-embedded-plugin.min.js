(this["webpackJsonp@mzt/embedded-plugin"]=this["webpackJsonp@mzt/embedded-plugin"]||[]).push([[816],{2110:function(e,a,t){"use strict";t.r(a);var c=t(42),s=t(47),n=t(62),l=t(63),r=t(258),o=t(1034),m=t(2219),i=t(2231),u=t(12),d=t.n(u),v=t(788),g=t(0),E=t.n(g),p=t(17),N=t(2338),P=function(e){Object(l.a)(t,e);var a=Object(n.a)(t);function t(){var e;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={totalPages:e.props.totalPages,activePage:e.props.activePage},e.onPageChange=function(a){e.setState({activePage:a}),e.props.onPageChange(a)},e.onNextPage=function(){e.setState((function(e){return{activePage:e.activePage+1,totalPages:e.totalPages+1}}),(function(){e.props.onNextPage({activePage:e.state.activePage,totalPages:e.state.totalPages})}))},e}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.totalPages===this.props.totalPages&&e.activePage===this.props.activePage||this.setState({totalPages:this.props.totalPages,activePage:this.props.activePage})}},{key:"render",value:function(){var e=this,a=this.props,t=a.orders,c=a.fetching,s=a.pageSize;return E.a.createElement(p.b,{ns:r.a},(function(a){return E.a.createElement(g.Fragment,null,E.a.createElement("div",{className:"account-orders-table"},E.a.createElement("div",{className:"account-orders-table-heading small"},E.a.createElement("div",{className:"account-orders-table-item"},E.a.createElement("div",null,a("Reservation"))),E.a.createElement("div",{className:"account-orders-table-item"},E.a.createElement("div",null,a("Prepayment"))),E.a.createElement("div",{className:"account-orders-table-item"},E.a.createElement("div",null,a("Payment"))),E.a.createElement("div",{className:"account-orders-table-item"},E.a.createElement("div",null,a("Documents")))),E.a.createElement("div",{className:"account-orders-table-body"},null===t||void 0===t?void 0:t.map((function(t){return E.a.createElement("div",{key:t.id,className:"account-orders-table-item-holder ".concat(t.status&&-1===t.status.visualStatus&&"canceled")},E.a.createElement("div",{className:"account-orders-table-item status-".concat(Object(v.g)(t.status&&t.status.visualStatus))},E.a.createElement(o.a,{title:E.a.createElement("div",null,t.country.name)},E.a.createElement("span",{className:"m-r-5"},E.a.createElement(m.a,{flag:t.country.code.toLowerCase()}))),E.a.createElement(N.a,{className:"order-number link-secondary m-r-5",to:"/account/orders/".concat(t.id)},t.id),E.a.createElement("span",{className:"xsmall grey"},d()(t.dateCreated).format("DD.MM.YYYY hh:mm:ss")),E.a.createElement("div",null,E.a.createElement("div",null,t.touristName),E.a.createElement("span",{className:"small grey"},"".concat(t.adultCount," ").concat(a("adult")," "),t.childCount>0?"".concat(t.childCount," ").concat(a("child")):"")),E.a.createElement("div",{className:"small"},E.a.createElement("span",{className:"text-".concat(Object(v.g)(t.status&&t.status.visualStatus))},t.status&&t.status.name))),E.a.createElement("div",{className:"account-orders-table-item status-".concat(Object(v.g)(t.prePayment&&t.prePayment.visualStatus))},E.a.createElement("div",{className:"list-cols small"},E.a.createElement("div",{className:"list-col m-b-5"},E.a.createElement("div",{className:"grey"},a("Prepayment")),E.a.createElement("div",null,console.error("FIX THE CURRENCY",e),t.prePayment&&"".concat(t.prePayment.sum," EUR (").concat(t.prePayment.percent,"%)")),E.a.createElement("div",{className:"grey"},a("Paid")),console.error("FIX THE CURRENCY",e),E.a.createElement("div",null,t.payment&&"".concat(t.payment.paid||0," EUR"))),E.a.createElement("div",{className:"list-col text-right"}))),E.a.createElement("div",{className:"account-orders-table-item status-".concat(Object(v.g)(t.payment&&t.payment.visualStatus))},E.a.createElement("div",{className:"list-cols small"},E.a.createElement("div",{className:"list-col m-b-5"},E.a.createElement("div",{className:"grey"},a("To pay")),console.error("FIX THE CURRENCY",e),E.a.createElement("div",null,t.price&&"".concat(t.price.priceToPay||0," EUR"))),E.a.createElement("div",{className:"list-col"},E.a.createElement("div",{className:"grey"},a("Paid")),console.error("FIX THE CURRENCY",e),E.a.createElement("div",null,t.payment&&"".concat(t.payment.paid||0," EUR"))),E.a.createElement("div",{className:"list-col"},E.a.createElement("div",{className:"grey"},a("Debt")),console.error("FIX THE CURRENCY",e),E.a.createElement("div",null,t.payment&&"".concat(t.payment.debt||0," EUR"))))),E.a.createElement("div",{className:"account-orders-table-item status-".concat(Object(v.g)(t.documents&&t.documents.visualStatus))},E.a.createElement("div",{className:"list-cols small"},E.a.createElement("div",{className:"list-col m-b-5"},t.documents&&t.documents.visa&&E.a.createElement(g.Fragment,null,E.a.createElement("div",{className:"grey"},a("Visa")),E.a.createElement("span",{className:"small"},t.documents.visa.comment))),E.a.createElement("div",{className:"list-col"},E.a.createElement("div",{className:"grey"},a("Documents")),E.a.createElement("span",{className:"small"},"\u0421\u041f GDS \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d")))))})))),t&&E.a.createElement(i.a,{pages:e.state.totalPages,activePage:e.state.activePage,loading:c,hasMore:t.length===s,onPageChange:e.onPageChange,onNextPage:e.onNextPage,buttonText:a("Next")}))}))}}]),t}(g.PureComponent);P.defaultProps={onPageChange:function(){},onNextPage:function(){},orders:[],steps:[],fetching:!1,activePage:1,totalPages:1,pageSize:6},a.default=P},2331:function(e,a,t){"use strict";(function(a){var t="__global_unique_id__";e.exports=function(){return a[t]=(a[t]||0)+1}}).call(this,t(118))}}]);