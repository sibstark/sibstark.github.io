(this["webpackJsonp@mzt/embedded-plugin"]=this["webpackJsonp@mzt/embedded-plugin"]||[]).push([[808],{1049:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return d}));var a=t(23),o=t(0),r=t.n(o),i=t(39),c=t(2285),l=r.a.createContext({activeCurrency:null,currencies:[],onChangeCurrency:function(e){},extractPrice:function(e,n){}}),d=(l.Consumer,function(e){return function(n){var t=Object(o.useState)(),d=Object(a.a)(t,2),s=d[0],u=d[1],m=Object(i.useSelector)((function(e){return Object(c.f)(e)}));return Object(o.useEffect)((function(){u((function(e){return function(e,n){return e?n.find((function(n){return n.code===e.code})):(null===n||void 0===n?void 0:n.length)?n[0]:null}(e,m)}))}),[m]),r.a.createElement(l.Provider,{value:{activeCurrency:s,currencies:m,onChangeCurrency:function(e){return function(){u(e)}},extractPrice:function(e,n){var t;return s?null===e||void 0===e||null===(t=e[s.type])||void 0===t?void 0:t[n]:null===e||void 0===e?void 0:e[n]}}},r.a.createElement(e,n))}})},2116:function(e,n,t){"use strict";t.r(n),t.d(n,"Hotels",(function(){return ne}));var a=t(3),o=t(8),r=t(2285),i=t(262),c=t(2121),l=t(108),d=t(0),s=t.n(d),u=t(17),m=t(79),f=t.n(m),v=t(2227),b=t(2228),h=t(23),p=t(1047),g=t(141),E=t(2387),y=t(2241),k=t(1048),x=t(2246),N=t(12),O=t.n(N),C=t(801),j=t(2255),w=function(e){var n=e.cancel,t=e.info,a=e.policies,o=Object(u.c)(i.b).t;return s.a.createElement(j.a,{size:"sm",modalTitle:o("Cancellation conditions"),onClose:n},a&&s.a.createElement("ul",{className:"bullets"},a.map((function(e,n){return s.a.createElement("li",{key:"policy_".concat(n)},"".concat(o("date_from")," ").concat(O()(e.dateFrom).format("HH:mm DD MMM")," = "),0===e.amount&&""!==e.comment&&s.a.createElement("span",null,e.comment),e.amount>0&&s.a.createElement("span",null,e.amount,s.a.createElement(x.a,{currencyCode:e.currencyCode}),e.comment&&s.a.createElement("div",null,e.comment)))}))),null===t||void 0===t?void 0:t.map((function(e,n){return s.a.createElement("div",{key:n,className:"m-b-20"},s.a.createElement("pre",{style:{width:"100%",whiteSpace:"pre-wrap"}},e.description))})))},_=t(2225),A=function(e,n){var t=Object(u.c)(i.b).t;return Object(d.useMemo)((function(){if(!e)return(null===n||void 0===n?void 0:n.name)||"";if(null===n||void 0===n?void 0:n.hasFewPlaces)return 0===(null===n||void 0===n?void 0:n.restPlaces)?t("There are few places"):t("Rooms left ".concat(n.restPlaces));switch(null===n||void 0===n?void 0:n.visualStatus){case 0:return t("AvailableStatus");case 1:return t("RequestStatus");case 2:return t("NotAvailableStatus");default:return t("Undefined")}}),[e,n])},S=function(e){return Object(d.useMemo)((function(){if(null===e||void 0===e?void 0:e.hasFewPlaces)return"red";switch(null===e||void 0===e?void 0:e.visualStatus){case 0:return"green";case 1:return"yellow";case 2:return"orange";default:return"green"}}),[e])},D=function(e,n){return Object(d.useMemo)((function(){return Object(_.d)({dateFrom:O()(e.dateBegin).toDate(),dateTo:O()(e.dateBegin).toDate(),searchType:"None"!==n?o.filterConstants.SEARCH_TYPE.TOURS:o.filterConstants.SEARCH_TYPE.HOTELS})}),[e,n])},M=t(142),T=(t(2298),function(e){var n,t,o,r,c,m,f,v,b,N,j,_,T,I,R,B,F,Y,q,z,P,H,W,L,V,G,J,K=e.hotel,U=e.isBooking,Q=void 0===U||U,X=e.getHotelRoomInfo,Z=e.cancellationInfo,$=e.cancellationPolicies,ee=e.hasLinks,ne=e.transportType,te=e.onRemove,ae=Object(u.c)(i.b).t,oe=Object(M.e)(),re=Object(d.useState)({showCancellation:!1,isRoomModalOpened:!1}),ie=Object(h.a)(re,2),ce=ie[0],le=ie[1],de=A(Q,K.status),se=S(K.status),ue=D(K,ne);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"basket-hotel"},s.a.createElement("div",{className:"basket-hotel-image"},ee?s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/hotel/".concat(null===(n=K.subService)||void 0===n||null===(t=n.hotel)||void 0===t?void 0:t.url).concat(ue)},K.subService.hotel.photo?s.a.createElement("img",{src:"".concat(p.c).concat(K.subService.hotel.photo,"?w=180&h=140&mode=crop"),alt:""}):s.a.createElement(E.a,null)):K.subService.hotel.photo?s.a.createElement("img",{src:"".concat(p.c).concat(K.subService.hotel.photo,"?w=180&h=140&mode=crop"),alt:""}):s.a.createElement(E.a,null)),s.a.createElement("div",{className:"basket-hotel-info"},s.a.createElement("div",{className:"basket-hotel-info-title"},ee?s.a.createElement("a",{href:"/hotel/".concat(null===(o=K.subService)||void 0===o||null===(r=o.hotel)||void 0===r?void 0:r.url).concat(ue),target:"_blank",rel:"noopener noreferrer",className:"title"},s.a.createElement("span",{className:"m-r-5"},null===(c=K.subService)||void 0===c||null===(m=c.hotel)||void 0===m?void 0:m.name)):s.a.createElement("span",{className:"m-r-5"},null===(f=K.subService)||void 0===f||null===(v=f.hotel)||void 0===v?void 0:v.name),s.a.createElement(y.a,{rating:null===K||void 0===K||null===(b=K.subService)||void 0===b||null===(N=b.hotel)||void 0===N||null===(j=N.stars)||void 0===j?void 0:j.code,size:12}),K.subService.hotel&&s.a.createElement("div",{className:"basket-hotel-info-city"},s.a.createElement(k.a,{title:s.a.createElement("div",null,"".concat(null===(_=K.subService)||void 0===_||null===(T=_.hotel)||void 0===T||null===(I=T.city)||void 0===I?void 0:I.name," ").concat((null===(R=K.subService)||void 0===R||null===(B=R.hotel)||void 0===B?void 0:B.town)||""," ").concat((null===(F=K.subService)||void 0===F||null===(Y=F.hotel)||void 0===Y||null===(q=Y.town)||void 0===q?void 0:q.name)||""))},s.a.createElement("span",null,K.subService.hotel.town?K.subService.hotel.town.name:null===(z=K.subService)||void 0===z||null===(P=z.hotel)||void 0===P||null===(H=P.city)||void 0===H?void 0:H.name)))),s.a.createElement("div",{className:"basket-hotel-info-additionally"},s.a.createElement("span",{className:"basket-hotel-info-room"},s.a.createElement("span",{className:"small ".concat((null===K||void 0===K||null===(W=K.subService)||void 0===W||null===(L=W.hotel)||void 0===L?void 0:L.hasFullDescription)&&"link").trim(),onClick:function(){var e,n,t,o,r;(null===K||void 0===K||null===(e=K.subService)||void 0===e||null===(n=e.hotel)||void 0===n?void 0:n.hasFullDescription)&&(null===X||void 0===X||X(null===K||void 0===K||null===(t=K.subService)||void 0===t||null===(o=t.hotel)||void 0===o?void 0:o.id,null===(r=K.subService1)||void 0===r?void 0:r.id),le((function(e){return Object(a.a)({},e,{isRoomModalOpened:!0})})))}},null===K||void 0===K||null===(V=K.subService1)||void 0===V?void 0:V.name)),s.a.createElement("div",{className:"basket-hotel-info-meals"},s.a.createElement("span",{className:"small"},null===K||void 0===K||null===(G=K.subService2)||void 0===G?void 0:G.name)))),s.a.createElement("div",{className:"basket-hotel-tour-info"},s.a.createElement("div",{className:"text-right m-b-5"},(null===(J=K.attributes)||void 0===J?void 0:J.isOptional)&&s.a.createElement(k.a,{title:ae("Remove hotel")},s.a.createElement(l.c,{color:"danger",size:"sm",plain:!0,onClick:function(){null===te||void 0===te||te(K.id)}},s.a.createElement("span",null,ae("Remove")),s.a.createElement("span",{className:"m-l-5"},s.a.createElement(g.a,{icon:"times"}))))),s.a.createElement("div",{className:"basket-hotel-tour-info-item small"},s.a.createElement("div",null,"".concat(O()(K.dateBegin).format(oe.localeDateFormat)," - ").concat(O()(K.dateEnd).format(oe.localeDateFormat)," (").concat(ae("night_count",{count:K.duration}),")"))),s.a.createElement("div",{className:"basket-hotel-tour-info-item small"},s.a.createElement("div",null,s.a.createElement("span",null,ae("Number of guests"))," ",K.touristCount),s.a.createElement("span",{className:se},de))),s.a.createElement("div",{className:"basket-hotel-cancellation"},ce.showCancellation&&s.a.createElement(w,{info:Z,policies:$,cancel:function(){le((function(e){return Object(a.a)({},e,{showCancellation:!1})}))}})),(null===K||void 0===K?void 0:K.tariffInfo)&&s.a.createElement("div",{className:"tariff-info"},s.a.createElement("div",{className:"m-t-10"},K.tariffInfo.rateComment),K.tariffInfo.taxes&&K.tariffInfo.taxes.length>0&&s.a.createElement("div",{className:"m-t-10"},s.a.createElement("span",null,ae("Taxes")),s.a.createElement("ul",null,K.tariffInfo.taxes.map((function(e){return s.a.createElement("li",{key:e.currencyCode},e.amount," ",s.a.createElement(x.a,{currencyCode:e.currencyCode}),e.included?"(".concat(ae("included"),")"):"(".concat(ae("not included"),")"))})))))),ce.isRoomModalOpened&&s.a.createElement(C.a,{onClose:function(){le((function(e){return Object(a.a)({},e,{isRoomModalOpened:!1})}))}}))}),I=(t(2296),function(e){var n,t,a,o,r,c,d,m,f,v,b,h,E=e.hotel,x=e.transportType,N=e.onRemove,C=Object(u.c)(i.b).t,j=D(E,x);return s.a.createElement("div",{className:"basket-mobile-block-image"},s.a.createElement("div",{className:"basket-mobile-block-title"},C("Hotel")),s.a.createElement("div",{className:"basket-mobile-block-image",style:{backgroundImage:"url(".concat(E.subService&&"".concat(p.c).concat(E.subService.hotel.photo,"?w=180&h=140&mode=crop")||"/userfiles/images/site-adaptive/noimage.png","?w=200&h=273&mode=crop)")}}),s.a.createElement("div",{className:"basket-mobile-block-info"},(null===(n=E.attributes)||void 0===n?void 0:n.isOptional)&&s.a.createElement(k.a,{title:C("Remove hotel")},s.a.createElement(l.c,{color:"danger",plain:!0,onClick:function(){null===N||void 0===N||N(E.id)}},s.a.createElement(g.a,{icon:"times"}))),s.a.createElement("div",null,s.a.createElement(y.a,{rating:null===E||void 0===E||null===(t=E.subService)||void 0===t||null===(a=t.hotel)||void 0===a||null===(o=a.stars)||void 0===o?void 0:o.code,size:12})),s.a.createElement("div",{className:"basket-mobile-block-info-title"},s.a.createElement("a",{href:"/hotel/".concat(null===(r=E.subService)||void 0===r||null===(c=r.hotel)||void 0===c?void 0:c.url).concat(j),target:"_blank",rel:"noopener noreferrer",className:"title"},null===(d=E.subService)||void 0===d||null===(m=d.hotel)||void 0===m?void 0:m.name," ")),s.a.createElement("div",{className:"basket-mobile-block-info-city"},E.subService.hotel.town?E.subService.hotel.town.name:null===(f=E.subService)||void 0===f||null===(v=f.hotel)||void 0===v||null===(b=v.city)||void 0===b?void 0:b.name)),s.a.createElement("div",{className:"basket-data-list-container"},s.a.createElement("ul",{className:"basket-data-list"},s.a.createElement("li",null,s.a.createElement("span",{className:"name"},C("Dates")),s.a.createElement("span",{className:"value"},"".concat(O()(E.dateBegin).format("DD.MM.YYYY")," - ").concat(O()(E.dateEnd).format("DD.MM.YYYY")))),s.a.createElement("li",null,s.a.createElement("span",{className:"name"},C("Nights")),s.a.createElement("span",{className:"value"},C("night_count",{count:E.duration}))),(null===E||void 0===E?void 0:E.subService1)&&s.a.createElement("li",null,s.a.createElement("span",{className:"name"},C("Room")),s.a.createElement("span",{className:"value"},E.subService1.name)),(null===E||void 0===E?void 0:E.subService2)&&s.a.createElement("li",null,s.a.createElement("span",{className:"name"},C("Meal")),s.a.createElement("span",{className:"value"},E.subService2.name)),(null===E||void 0===E||null===(h=E.tariffInfo)||void 0===h?void 0:h.isNonRefundable)&&s.a.createElement("li",null,s.a.createElement("span",{className:"name"},C("Tariff")),s.a.createElement("span",{className:"value"},C("Tariff is non refundable"))))))}),R=t(10),B=t(2357),F=t(268),Y=t(21),q=t(36),z=t(2258),P=t(2260),H=t(2112),W=t(802),L=(t(2337),function(e){var n=e.showMessage,t=e.adults,o=e.children,r=e.maxAdultsCount,c=e.maxChildrenCount,m=e.pluginBefore,f=e.pluginAfter,v=e.label,b=e.minAdultsCount,p=e.onChange,g=e.childrenAges,E=e.message,y=Object(u.c)(i.f).t,k=s.a.useRef(),x=Object(d.useState)({open:!1,showMessage:null!==n&&void 0!==n&&n,adults:0,children:[]}),N=Object(h.a)(x,2),O=N[0],C=N[1];Object(d.useEffect)((function(){C((function(e){return Object(a.a)({},e,{adults:t,children:o})}))}),[o,t]);var j=Object(W.a)(o,r,c,t);Object(d.useEffect)((function(){C((function(e){return Object(a.a)({},e,{adults:j.adults,children:j.children})})),p({adults:j.adults,children:j.children})}),[j]),Object(d.useEffect)((function(){var e,t,o;n&&(C((function(e){return Object(a.a)({},e,{showMessage:n})})),null===k||void 0===k||null===(e=k.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(o=t.current)||void 0===o||o.click())}),[n]);var w="undefined"!==typeof r?r:16,_="undefined"!==typeof c?c:7,A="undefined"!==typeof b?b:0;return s.a.createElement(z.a,{label:v||y("Tourists"),ref:k,className:"rooms-dropdown",onClose:function(){C((function(e){return p({children:e.children,adults:e.adults}),Object(a.a)({},e,{open:!1,showMessage:!1})}))},onOpen:function(){C((function(e){return Object(a.a)({},e,{open:!0})}))},trigger:s.a.createElement("div",{className:"tourists-value"},m&&s.a.createElement("span",{className:"rooms-plugin plugin-before"},m),s.a.createElement("span",null,s.a.createElement("span",null,"".concat(y("adultWithCount",{count:O.adults}),"  ").concat(O.children.length>0?", "+y("childWithCount",{count:O.children.length}):"").trim())),f&&s.a.createElement("span",{className:"rooms-plugin plugin-after"},f)),footer:function(e){var n=e.close;return s.a.createElement(l.c,{color:"success",onClick:n},y("Select"))}},s.a.createElement("div",{className:"tours-search-filter-tourists"},O.showMessage&&s.a.createElement("span",{className:"red"},E),s.a.createElement(V,{children:O.children,childrenAges:g,adults:O.adults,maxAdults:w,maxChildren:_,minAdults:A,onAdultsChange:function(e){C((function(n){return Object(a.a)({},n,{adults:e})}))},onChildrenChange:function(e){var n=Object(Y.a)(O.children);if(n.length>e)n=Object(q.f)(n);else if(n.length<e){var t=g||[0],o=Object(h.a)(t,1)[0];n.push(o)}C((function(e){return Object(a.a)({},e,{children:n})}))},onChildAgeChanged:function(e){return function(n){C((function(t){return Object(a.a)({},t,{children:t.children.map((function(t,a){return a===e?n:t}))})}))}}})))}),V=function(e){var n=e.onAdultsChange,t=e.onChildrenChange,a=e.onChildAgeChanged,o=e.adults,r=e.children,c=e.maxAdults,l=e.maxChildren,d=e.childrenAges,m=e.minAdults,f=Object(u.c)(i.f).t,v=(null===d||void 0===d?void 0:d.map((function(e){return{label:f("childWithCountAges",{count:e}),value:e}})))||[];return s.a.createElement("div",{className:"tours-search-filter-room"},s.a.createElement("div",{className:"filter-room-item"},s.a.createElement("span",null,f("Adults")),s.a.createElement(P.a,{min:m,max:c,value:o,onChange:n})),s.a.createElement("div",{className:"filter-room-item"},s.a.createElement("span",null,f("Children")),s.a.createElement(P.a,{min:0,max:l,value:r.length,onChange:t})),r&&r.length>0&&r.map((function(e,n){return s.a.createElement("div",{className:"filter-room-item",key:e+"-"+n},s.a.createElement("span",null,f("Child age",{age:n+1})),s.a.createElement(H.b,{clearable:!1,options:v,labelKey:"label",valueKey:"value",onChange:a(n),value:e}))})))},G=t(2244),J=t(344),K=t(1049),U=t(39),Q=t(9);function X(){var e=Object(R.a)(["\n  .styled-accommodation-search {\n    display: flex;\n    align-items: center;\n    background-color: #f0f0f7;\n    padding: 1rem;\n    .styled-accommodation-search-item {\n      padding-right: 1rem;\n      &:last-child {\n        padding-right: 0;\n      }\n      .tourists-value {\n        width: 100%;\n        padding: 0 0.75rem;\n        border: 1px solid #e1e1e1;\n        border-radius: 4px;\n        outline: 0;\n        line-height: 38px;\n        height: 38px;\n        transition: border-color 150ms, box-shadow 150ms;\n        background: #ffffff;\n        &:hover {\n          border-color: rgba(0, 184, 199, 0.5);\n        }\n      }\n    }\n  }\n  .styled-accommodation-results {\n    position: relative;\n    .styled-accommodation-item {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0.5rem;\n      border-bottom: 1px solid #eee;\n      margin-bottom: 0.25rem;\n      &:last-child {\n        border-bottom: 0;\n      }\n    }\n    .styled-accommodation-item-header {\n      position: sticky;\n      top: 0;\n      background-color: #ffffff;\n      margin-bottom: 0;\n      margin: 1.5rem 0 0.5rem 0;\n      z-index: 1;\n    }\n    .styled-accommodation-item-room {\n      flex: 0 0 30%;\n      padding-right: 0.5rem;\n    }\n    .styled-accommodation-item-code {\n      flex: 0 0 15%;\n    }\n    .styled-accommodation-item-pansion {\n      flex: 0 0 15%;\n    }\n    .styled-accommodation-item-status {\n      flex: 0 0 15%;\n    }\n    .styled-accommodation-item-surcharge {\n      flex: 0 0 15%;\n    }\n    .styled-accommodation-item-add {\n      flex: 0 0 10%;\n      text-align: right;\n    }\n    "," {\n      padding-left: 0;\n      margin-bottom: 0.125rem;\n    }\n  }\n"]);return X=function(){return e},e}var Z=function(e){var n=e.isBooking,t=Object(u.c)(i.b).t,a=Object(d.useContext)(K.a),r=a.activeCurrency,c=a.extractPrice,m=Object(U.useDispatch)(),f=Object(U.useSelector)((function(e){return{showModal:e.basketAccommodation.showModal,accommodation:e.basketAccommodation.accommodation,filter:e.basketAccommodation.filter,tour:e.basketData.tour,fetching:e.basketAccommodation.fetching}}),U.shallowEqual),v=f.showModal,b=f.accommodation,h=f.filter,p=f.tour,g=f.fetching,E=function(){m(o.basketAccommodationActions.closeAccommodationModal())},y=function(e){return function(){m(o.basketAccommodationActions.addAccommodation(e.guid)),E()}};return v?s.a.createElement(j.a,{modalTitle:t("Add accommodation"),scrollable:!0,onClose:E},s.a.createElement(ee,null,s.a.createElement("div",{className:"styled-accommodation-search"},s.a.createElement("div",{className:"styled-accommodation-search-item"},s.a.createElement(B.a,{label:t("Date from"),onChange:function(e){m(o.basketAccommodationActions.changeAccommodationFilter({dateFrom:O()(e).format("YYYY-MM-DD")}))},minDate:new Date(null===p||void 0===p?void 0:p.dateBegin),maxDate:new Date(null===p||void 0===p?void 0:p.dateEnd),format:"dd.MM.yyyy",value:h.dateFrom})),s.a.createElement("div",{className:"styled-accommodation-search-item"},s.a.createElement(B.a,{label:t("Date to"),onChange:function(e){m(o.basketAccommodationActions.changeAccommodationFilter({dateTo:O()(e).format("YYYY-MM-DD")}))},minDate:new Date(null===p||void 0===p?void 0:p.dateBegin),maxDate:new Date(null===p||void 0===p?void 0:p.dateEnd),format:"dd.MM.yyyy",value:h.dateTo})),s.a.createElement("div",{className:"styled-accommodation-search-item"},s.a.createElement(F.a,null,t("tourists_count")),s.a.createElement(L,{showMessage:!1,childrenAges:[0,1,2,3,4,5],onChange:function(e){m(o.basketAccommodationActions.changeAccommodationFilter({adults:e.adults,children:e.children}))},maxAdultsCount:h.maxAdultCount,maxChildrenCount:5,adults:h.adults||0,children:h.children,minAdultsCount:1})),s.a.createElement("div",{className:"styled-accommodation-search-item m-t-25"},s.a.createElement(l.c,{onClick:function(){m(o.basketAccommodationActions.fetchAccommodation())}},t("Search")))),s.a.createElement("div",{className:"styled-accommodation-results"},b&&b.length>0&&s.a.createElement("div",{className:"styled-accommodation-item styled-accommodation-item-header"},s.a.createElement("div",{className:"styled-accommodation-item-room"},s.a.createElement(F.a,null,t("Room"))),s.a.createElement("div",{className:"styled-accommodation-item-code"},s.a.createElement(F.a,null,t("Number of guests"))),s.a.createElement("div",{className:"styled-accommodation-item-pansion"},s.a.createElement(F.a,null,t("Pansion"))),s.a.createElement("div",{className:"styled-accommodation-item-status"},s.a.createElement(F.a,null,t("Availability"))),s.a.createElement("div",{className:"styled-accommodation-item-surcharge"},s.a.createElement(F.a,null,t("Surcharge"))),s.a.createElement("div",{className:"styled-accommodation-item-add"},s.a.createElement(F.a,{visible:!1},t("Select")))),null===b||void 0===b?void 0:b.map((function(e){var a,o,i,d,u,m,f;return s.a.createElement("div",{className:"styled-accommodation-item",key:e.guid},s.a.createElement("div",{className:"styled-accommodation-item-room bold"},"".concat(null===(a=e.room)||void 0===a||null===(o=a.roomType)||void 0===o?void 0:o.name," ").concat(null===(i=e.room)||void 0===i||null===(d=i.roomCategory)||void 0===d?void 0:d.name)),s.a.createElement("div",{className:"styled-accommodation-item-code"},null===(u=e.room)||void 0===u||null===(m=u.roomAccomodation)||void 0===m?void 0:m.name),s.a.createElement("div",{className:"styled-accommodation-item-pansion"},null===(f=e.meal)||void 0===f?void 0:f.name),s.a.createElement("div",{className:"styled-accommodation-item-status"},s.a.createElement($,{isBooking:n,accommodation:e})),s.a.createElement("div",{className:"styled-accommodation-item-surcharge"},s.a.createElement("span",{className:"bold"},Object(J.b)(c(e.addPrice,"sum"))," ",s.a.createElement(x.a,{currencyCode:null===r||void 0===r?void 0:r.code}))),s.a.createElement("div",{className:"styled-accommodation-item-add"},s.a.createElement(l.c,{size:"sm",color:"success",onClick:y(e)},t("Select room"))))})),g&&s.a.createElement(G.a,{style:{minWidth:360},description:t("Searching all available rooms")})))):null},$=function(e){var n=e.accommodation,t=e.isBooking,a=A(!!t,n.status),o=S(n.status);return s.a.createElement("span",{className:o},a)},ee=Q.e.div(X(),F.a),ne=function(e){var n=e.isBooking,t=void 0===n||n,d=Object(v.a)(Object(a.a)({},o.basketAccommodationActions,{},o.hotelsActions)).actions,m=Object(b.a)((function(e){return{hotels:Object(r.l)(e),cancellationInfo:e.basketCancellation.data,tour:e.basketData.tour,shoppingCart:e.basketData.shoppingCart,accommodation:e.basketAccommodation.accommodation}})),h=m.hotels,p=m.cancellationInfo,g=m.tour,E=m.shoppingCart,y=m.accommodation,k=Object(u.c)(i.b).t,x=function(){d.showAccommodationModal(),(null===y||void 0===y?void 0:y.length)||d.fetchAccommodation()},N=function(e){d.removeAccommodation(e)};return h.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{query:"(max-width: 991px)"},(function(e){var n;return e?h.map((function(e,n){var a;return s.a.createElement(I,{hasLinks:!0,cancellationInfo:null===p||void 0===p||null===(a=p.items)||void 0===a?void 0:a.filter((function(n){return n.serviceId===e.id})),cancellationPolicies:null===p||void 0===p?void 0:p.cancellationPolicies,key:n,hotel:e,isBooking:t,transportType:null===g||void 0===g?void 0:g.transportType,getHotelRoomInfo:d.getHotelRoomInfo,onRemove:N})})):s.a.createElement(c.a,{className:"dashboard",title:k("Accommodation"),actions:(null===E||void 0===E||null===(n=E.allowedActions)||void 0===n?void 0:n.editHotels)&&s.a.createElement(l.c,{size:"sm",color:"primary",onClick:x},k("Add accommodation"))},h.map((function(e,n){var a;return s.a.createElement(T,{cancellationInfo:null===p||void 0===p||null===(a=p.items)||void 0===a?void 0:a.filter((function(n){return n.serviceId===e.id})),key:n,hotel:e,isBooking:t,transportType:null===g||void 0===g?void 0:g.transportType,getHotelRoomInfo:d.getHotelRoomInfo,onRemove:N})})))})),s.a.createElement(Z,{isBooking:t})):null}},2280:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t(10),o=t(14);function r(){var e=Object(a.a)(["\n  position: relative;\n  .react-datepicker {\n    font-family: ",";\n    font-size: 0.875rem;\n    background-color: #fff;\n    color: #000;\n    border: ",";\n    border-radius: ",";\n    display: inline-block;\n    position: relative;\n    background-color: #fff;\n    border: 1px solid #ddd;\n    padding: 0;\n    background: #fff;\n    z-index: 1000;\n    border-radius: ",";\n    box-shadow: 1px 1px 12px rgba(0, 0, 0, 0.15),\n      inset 0px 0px 0px 1px ",";\n    .react-datepicker__triangle {\n      display: none;\n    }\n    .react-datepicker__header {\n      background-color: #ffffff;\n      border: none;\n      .react-datepicker__current-month--hasMonthDropdown {\n        padding: 0.375rem 0;\n      }\n      .react-datepicker__current-month,\n      .react-datepicker-time__header,\n      .react-datepicker-year-header {\n        font-size: 0.75rem;\n        text-align: center;\n        font-weight: 500;\n        text-transform: uppercase;\n        color: ",";\n        margin-bottom: 0.5rem;\n      }\n    }\n    .react-datepicker__day-names {\n      .react-datepicker__day-name {\n        text-transform: capitalize;\n        font-size: 0.75rem;\n        color: #8b9898;\n        width: 36px;\n      }\n    }\n    .react-datepicker__day,\n    .react-datepicker__month-text,\n    .react-datepicker__quarter-text {\n      font-size: 0.875rem;\n      line-height: 36px;\n      width: 36px;\n      height: 36px;\n\n      &.react-datepicker__day--outside-month {\n        color: ",";\n      }\n\n      &:hover {\n        &:not(.react-datepicker__day--keyboard-selected),\n        &:not(.react-datepicker__day--today) {\n          border-radius: ",";\n          background: ",";\n        }\n      }\n\n      &.react-datepicker__day--keyboard-selected {\n        color: #ffffff;\n        border-radius: ",";\n        background: ",";\n        &:hover {\n          background: ",";\n        }\n      }\n      &.react-datepicker__day--today {\n        color: #ffffff;\n        border-radius: ",";\n        background: ",";\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n\n  .react-datepicker-popper {\n    margin-top: 0 !important;\n    z-index: 10;\n  }\n  .react-datepicker__input-container {\n    width: 100%;\n    & > input {\n      width: 100%;\n      padding: 0 0.75rem;\n      border: 1px solid ",";\n      border-radius: ",";\n      outline: 0;\n      line-height: 38px;\n      height: 38px;\n      transition: border-color 150ms, box-shadow 150ms;\n      background: #ffffff;\n      &:disabled {\n        border-color: ",";\n        box-shadow: none;\n        background: ",";\n      }\n      &:hover {\n        border-color: ",";\n      }\n      &:focus {\n        border-color: ",";\n        box-shadow: 0 0 3px ",";\n      }\n    }\n  }\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .react-datepicker__navigation {\n    outline: none;\n    .react-datepicker__navigation--previous {\n      outline: none;\n    }\n    .react-datepicker__navigation--next {\n      outline: none;\n    }\n  }\n  .react-datepicker__header__dropdown--select {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 0.75rem;\n    .react-datepicker__month-dropdown-container--select {\n      flex: 1;\n    }\n    .react-datepicker__year-select {\n      flex: 0 0 30%;\n    }\n    .react-datepicker__month-select,\n    .react-datepicker__year-select {\n      width: 100%;\n      padding: 0.375rem 0.5rem;\n      border: 1px solid ",";\n      border-radius: ",";\n      transition: border-color 150ms, box-shadow 150ms;\n      &:hover {\n        border-color: ",";\n      }\n    }\n  }\n  .react-datepicker__close-icon {\n      &:after {\n        background: transparent;\n        bottom: 5px;\n        font-size: 20px;\n        color: ",";\n      }\n    }\n"]);return r=function(){return e},e}var i=t(9).e.div(r(),(function(e){return e.theme.font}),(function(e){return Object(o.c)(e.theme.colors.dark,.1)}),(function(e){return e.theme.border}),(function(e){return e.theme.radius}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.grey}),(function(e){return Object(o.c)(e.theme.colors.grey,.5)}),(function(e){return e.theme.radius}),(function(e){return Object(o.c)(e.theme.colors.secondary,.1)}),(function(e){return e.theme.radius}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.radius}),(function(e){return e.theme.colors.warning}),(function(e){return e.theme.colors.warning}),(function(e){return Object(o.b)(.75,e.theme.colors.dark)}),(function(e){return e.theme.radius}),(function(e){return Object(o.b)(.75,e.theme.colors.dark)}),(function(e){return Object(o.a)(.05,e.theme.colors.white)}),(function(e){return Object(o.c)(e.theme.colors.primary,.5)}),(function(e){return e.theme.colors.primary}),(function(e){return Object(o.c)(e.theme.colors.primary,.5)}),(function(e){return Object(o.b)(.75,e.theme.colors.dark)}),(function(e){return e.theme.radius}),(function(e){return Object(o.c)(e.theme.colors.primary,.5)}),(function(e){return e.theme.colors.danger}))},2285:function(e,n,t){"use strict";t.d(n,"h",(function(){return u})),t.d(n,"d",(function(){return m})),t.d(n,"l",(function(){return v})),t.d(n,"j",(function(){return b})),t.d(n,"g",(function(){return h})),t.d(n,"m",(function(){return p})),t.d(n,"k",(function(){return g})),t.d(n,"e",(function(){return E})),t.d(n,"i",(function(){return y})),t.d(n,"f",(function(){return O})),t.d(n,"c",(function(){return C})),t.d(n,"b",(function(){return _})),t.d(n,"a",(function(){return A}));var a=t(21),o=t(3),r=t(2284),i=t(33),c=function(e){return e.basketData.shoppingCart},l=function(e){return e.basketVisas.visaCenters},d=function(e){return e.basketTransfers.transfers},s=function(e){return e.basketTransfers.transferServices},u=Object(i.a)(l,(function(e){return e})),m=Object(i.a)((function(e){return e.basketVisas.mobileBiometrics}),(function(e){return e})),f=function(e){return e.basketData.fields},v=Object(i.a)(c,(function(e){return(null===e||void 0===e?void 0:e.services)?e.services.filter((function(e){return"Hotel"===e.type})).sort((function(e,n){return new Date(e.dateBegin).valueOf()-new Date(n.dateBegin).valueOf()})):[]})),b=Object(i.a)((function(e){return e.basketFlights.selectedFlights}),(function(e){return e.map((function(e){return Object(o.a)({},e)}))})),h=Object(i.a)([function(e){var n,t;return(null===(n=e.basketData)||void 0===n||null===(t=n.shoppingCart)||void 0===t?void 0:t.tourists)||[]},l,c],(function(e,n,t){return e.map((function(e){var a,r,i,c=n.find((function(n){return n.touristId===e.id}));return Object(o.a)({id:e.id,gender:"m",firstName:"",lastName:"",birthdate:"",citizenshipId:null,passport:"",pasportExpiration:"",pasportExpirationMin:new Date,visaCenter:c?null===(a=c.variants)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.id:null,biometry:null,visa:!1,isBiometry:!1,attributeIds:[],documentType:null,birthDateMax:e.birthDateMax,birthDateMin:e.birthDateMin,isTaxNumber:!!(null===(i=e.extraFields)||void 0===i?void 0:i.taxNumber),taxNumber:e.taxNumber||""},null===t||void 0===t?void 0:t.allowedActions,{roomGroup:e.roomGroup,order:e.order,age:e.age,ageType:e.ageType,editable:!0})})).sort((function(e,n){return n.order>e.order?-1:n.order<e.order?1:0}))})),p=Object(i.a)(s,d,(function(e,n){var t=e.map((function(e){var t=null===n||void 0===n?void 0:n.find((function(n){return n.serviceId===e.id}));return Object(o.a)({},e,{transfers:(null===t||void 0===t?void 0:t.variants)||[]})}));return t.some((function(e){return e.isFake}))&&t.some((function(e){return!e.transfers.length}))?[]:t})),g=Object(i.a)((function(e){return e.basketTransfers.selectedTransfers}),s,d,(function(e,n,t){return(null===e||void 0===e?void 0:e.length)?e:(null===n||void 0===n?void 0:n.length)&&t&&t.length?n.reduce((function(e,n){var o,r=t.find((function(e){return e.serviceId===n.id})),i=null;if(null===r||void 0===r||null===(o=r.variants)||void 0===o?void 0:o.length){var c=n.isFake?r.variants[0]:r.variants.find((function(e){return e.selected}));i=c?{serviceId:n.id,variantId:c.id}:null}return i?[].concat(Object(a.a)(e),[i]):e}),[]):[]})),E=Object(i.a)(c,(function(e){return e})),y=Object(i.a)([function(e){return e.basketPageData.offices}],(function(e){return e&&1===e.length?e[0].id:""})),k="context",x="tour",N="local",O=Object(i.a)([function(e){return e.basketData.price}],(function(e){var n,t,a,o,r,i;if(!e)return[];var c=null===(n=e.priceTotal)||void 0===n||null===(t=n.context)||void 0===t?void 0:t.currencyCode,l=null===(a=e.priceTotal)||void 0===a||null===(o=a.tour)||void 0===o?void 0:o.currencyCode,d=null===(r=e.priceTotal)||void 0===r||null===(i=r.local)||void 0===i?void 0:i.currencyCode;return c===l&&[{type:k,code:c},{type:N,code:d}],c!==d&&d!==l||[{type:k,code:c},{type:x,code:l}],[{type:k,code:c},{type:N,code:d},{type:x,code:l}].reduce((function(e,n){return e.some((function(e){return e.code===n.code}))?e:e.concat([n])}),[])})),C=Object(i.a)((function(e){var n;return(null===(n=e.basketData.formValues)||void 0===n?void 0:n.tourists)||[]}),(function(e){return Object(a.a)(e).sort((function(e,n){return n.id<e.id?-1:n.id>e.id?1:0}))})),j=function(e,n,t){var a={id:r.string().required(""),visaCenter:r.string().when("visa",{is:!0,then:r.string().nullable().required(e("required")),otherwise:r.string().nullable()}),visa:r.boolean(),isBiometry:r.boolean(),biomentry:r.string(),mobileBiometric:r.string().nullable(),attributeIds:r.array(),isTaxNumber:r.boolean(),taxNumber:r.string().when("isTaxNumber",{is:!0,then:r.string().nullable().required(e("required")),otherwise:r.string().nullable()})};return t.forEach((function(n){a[n.code]=n.required?r[n.type]().nullable().required(e("required")):r[n.type]().nullable()})),r.array().of(r.object().shape(a))},w=function(e,n){return n},_=Object(i.a)([w,f],(function(e,n){return function(e,n,t){return r.object().shape({tourists:j(e,0,t),officeId:r.string().nullable().required(e("required")),agree:r.boolean().oneOf([!0],e("required")),userAgreement:r.boolean().oneOf([!0],e("required")),emergencyPhone:r.string().nullable().required(e("required")),comment:r.string().nullable(),isPrebooking:r.bool(),officeDisabled:r.bool()})}(e.t,e.theme,n)})),A=Object(i.a)([w,f],(function(e,n){return j(e.t,e.theme,n)}))},2296:function(e,n,t){},2298:function(e,n,t){},2337:function(e,n,t){},2357:function(e,n,t){"use strict";var a=t(57),o=t(0),r=t.n(o),i=t(2288),c=t.n(i),l=(t(2287),t(353)),d=t.n(l),s=t(268),u=t(2280),m=r.a.forwardRef((function(e,n){var t=e.placeholder,o=void 0===t?"":t,i=(e.format,e.clearable),l=void 0!==i&&i,m=e.year,f=void 0!==m&&m,v=e.mask,b=void 0===v?null:v,h=e.value,p=e.label,g=e.disabled,E=void 0!==g&&g,y=e.minDate,k=e.maxDate,x=Object(a.a)(e,["placeholder","format","clearable","year","mask","value","label","disabled","minDate","maxDate"]);return r.a.createElement(u.a,null,p&&r.a.createElement(s.a,null,p),r.a.createElement(c.a,Object.assign({},x,{minDate:y,maxDate:k,disabled:E,placeholderText:o,isClearable:l,dateFormat:"dd.MM.yyyy",selected:h?new Date(h):void 0,onChange:function(e){x.onChange(e)},peekNextMonth:f,showMonthDropdown:f,showYearDropdown:f,dropdownMode:f?"select":void 0,customInput:b?r.a.createElement(d.a,{mask:b}):void 0,ref:n})))}));n.a=m},2387:function(e,n,t){"use strict";var a=t(0),o=t.n(a),r=t(1047);n.a=function(e){return o.a.createElement("img",{src:"".concat(r.c).concat(e.srcpath?e.srcpath:"/userfiles/images/site-adaptive/noimage.png","?w=").concat(e.width?e.width:300,"&h=").concat(e.height?e.height:300,"&mode=crop"),alt:"No photo"})}}}]);