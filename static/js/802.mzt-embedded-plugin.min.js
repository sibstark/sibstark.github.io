(this["webpackJsonp@mzt/embedded-plugin"]=this["webpackJsonp@mzt/embedded-plugin"]||[]).push([[802,805,815,894],{1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(23),r=n(0),o=n.n(r),i=n(39),c=n(2262),l=o.a.createContext({activeCurrency:null,currencies:[],onChangeCurrency:function(e){},extractPrice:function(e,t){}}),s=(l.Consumer,function(e){return function(t){var n=Object(r.useState)(),s=Object(a.a)(n,2),u=s[0],d=s[1],m=Object(i.useSelector)((function(e){return Object(c.f)(e)}));return Object(r.useEffect)((function(){d((function(e){return function(e,t){return e?t.find((function(t){return t.code===e.code})):(null===t||void 0===t?void 0:t.length)?t[0]:null}(e,m)}))}),[m]),o.a.createElement(l.Provider,{value:{activeCurrency:u,currencies:m,onChangeCurrency:function(e){return function(){d(e)}},extractPrice:function(e,t){var n;return u?null===e||void 0===e||null===(n=e[u.type])||void 0===n?void 0:n[t]:null===e||void 0===e?void 0:e[t]}}},o.a.createElement(e,t))}})},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(0),r=n.n(a).a.createContext({}),o=r.Provider;r.Consumer},1037:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(192),r=n(42),o=n(47),i=n(62),c=n(63),l=n(2246),s=n(0),u=n.n(s),d=function(e){return function(t){Object(c.a)(s,t);var n=Object(i.a)(s);function s(){var e;Object(r.a)(this,s);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).fieldRefs=[],e.forwardFocusRef=function(t,n){n&&!e.fieldRefs.some((function(e){return e.name===t}))&&e.fieldRefs.push({name:t,focus:n})},e}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(e){if(e.isSubmitting&&!this.props.isSubmitting&&!this.props.isValid&&this.props.errors&&Object.keys(this.props.errors).length>0){var t,n=Object(a.a)(this.fieldRefs);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object(l.f)(this.props.errors,r.name)){r.focus&&"function"===typeof r.focus&&r.focus();break}}}catch(o){n.e(o)}finally{n.f()}}}},{key:"render",value:function(){return u.a.createElement(e,Object.assign({forwardFocusRef:this.forwardFocusRef},this.props))}}]),s}(s.PureComponent)}},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var a=n(3),r=n(23),o=n(139),i=n(258),c=n(2221),l=n(2107),s=n(2232),u=n(0),d=n.n(u),m=function(e){var t=e.isOpened,n=void 0!==t&&t,a=e.children,i=e.className,c=void 0===i?"":i,l=e.iconClassName,s=void 0===l?"":l,m=Object(u.useState)(n),f=Object(r.a)(m,2),v=f[0],b=f[1];Object(u.useEffect)((function(){n!==v&&b(!v)}),[n]);var p=function(){b((function(e){return!e}))};return d.a.createElement("span",{className:c,onClick:p},a,d.a.createElement("span",null,d.a.createElement(o.a,{icon:v?"chevron-down":"chevron-up",className:s,onClick:p})))},f=n(2226),v=n(106),b=n(2215),p=n(2384),h=n(17),g=n(2368),E=n(2214),y=n(2213),k=n(8),O=n(340),j=n(1035),C=function(){var e,t=Object(u.useContext)(j.a),n=t.extractPrice,a=t.activeCurrency,r=Object(h.c)(i.b).t,o=Object(E.a)((function(e){return e.basketData.price}));return o?d.a.createElement(g.a,{allowedRoles:[p.a.AGENCY],unallowedRoles:[p.a.READONLY]},d.a.createElement(l.a,{className:"dashboard"},d.a.createElement("div",{className:"summary-agency"},d.a.createElement(f.a,{triggerBefore:!0,isOpened:!1,trigger:d.a.createElement("div",{className:"summary-agency-title"},r("For agencies"),d.a.createElement(m,{iconClassName:"flipping-icon-vertical"}))},d.a.createElement("div",{className:"summary-agency-list"},d.a.createElement("div",{className:"summary-agency-item"},d.a.createElement("div",{className:"summary-agency-item-title"},"".concat(r("Comission")," (").concat(o.commission.percent,"%)")),d.a.createElement("div",{className:"summary-agency-item-sum"},"".concat(Object(O.b)(n(null===(e=o.commission)||void 0===e?void 0:e.value,"sum")))," ",a&&d.a.createElement(s.a,{currencyCode:a.code})," ")),d.a.createElement("div",{className:"summary-agency-item"},d.a.createElement("div",{className:"summary-agency-item-title"},r("To pay")),d.a.createElement("div",{className:"summary-agency-item-sum"},"".concat(Object(O.b)(n(null===o||void 0===o?void 0:o.priceToPay,"sum")))," ",a&&d.a.createElement(s.a,{currencyCode:a.code})))))))):null},x=n(2092),N=(n(2294),function(){var e=Object(E.a)((function(e){var t=e.basketPromo,n=e.basketData;return{data:t.data,fetching:t.fetching,shoppingCartId:n.shoppingCartId}})),t=e.data,n=e.fetching,a=e.shoppingCartId,o=Object(h.c)(i.b).t,c=Object(u.useState)(""),l=Object(r.a)(c,2),s=l[0],m=l[1],b=Object(y.a)(k.basketActions).actions;return d.a.createElement("div",null,d.a.createElement(f.a,{triggerBefore:!0,trigger:d.a.createElement("span",{className:"link"},o("Do you have a promocode"),"?")},d.a.createElement("div",null,d.a.createElement("div",{className:"basket-promocode"},d.a.createElement(x.a,{placeholder:o("Discount code"),value:s,onChange:function(e){m(e.target.value)},disabled:t&&!0===t.isValid}),d.a.createElement(v.c,{loading:n,disabled:!s||t&&!0===t.isValid,onClick:function(){b.checkPromoCode({shoppingCartId:a,code:s})}},o("Check code"))),t&&!1===t.isValid&&d.a.createElement("p",{className:"text-red"},o("Your discount code is not valid")),t&&!0===t.isValid&&d.a.createElement("p",{className:"text-green"},o("Success")))))}),w=n(42),I=n(47),D=n(62),T=n(63),F=function(e){Object(T.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).timer=void 0,e.state={time:e.props.initialTime||0},e.setTimer=function(){e.state.time>0&&clearInterval(e.timer),e.timer=setInterval((function(){e.setState((function(t){return e.props.onTimeChange&&e.props.onTimeChange(t.time-1),{time:t.time-1}}))}),1e3)},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.setTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"componentDidUpdate",value:function(e){this.props.resetCount!==e.resetCount&&(this.setState({time:e.initialTime}),this.setTimer())}},{key:"componentWillUpdate",value:function(e,t){0===t.time&&clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state.time,t=Math.floor(e/60),n=e%60;return d.a.createElement("div",{className:"timer"},t+":"+(n>9?n:"0"+n))}}]),n}(u.PureComponent),R=function(e){var t=e.onExpired,n=e.onResetTimer,c=Object(h.c)(i.b).t,l=Object(u.useState)({time:1800,resetCount:0}),s=Object(r.a)(l,2),m=s[0],f=s[1];return d.a.createElement("div",{className:"summary-timer",style:{backgroundColor:function(e,t){var n=Math.floor(200*(1-e/t)),a=Math.floor(e/t*200);return"rgb(".concat(n,", ").concat(a,", 0)")}(m.time,1800)}},d.a.createElement(o.a,{className:"icon-fire",icon:"fire"}),d.a.createElement("div",{className:"time"},d.a.createElement(F,{initialTime:1800,resetCount:m.resetCount,onTimeChange:function(e){0===e&&(null===t||void 0===t||t()),f((function(t){return Object(a.a)({},t,{time:e})}))}}),d.a.createElement("div",{className:"label"},m.time>0?c("Price is valid"):c("Price is not valid"))),d.a.createElement("span",{className:"icon-reset-timer ".concat(0!==m.time?"invisible":""),onClick:function(){f((function(e){return Object(a.a)({},e,{resetCount:e.resetCount+1})})),null===n||void 0===n||n()}},d.a.createElement(o.a,{icon:"sync-alt"})))},A=n(1034),P=n(39),B=function(){var e,t,n,a,r,o,l,m,f,v,b=Object(u.useContext)(j.a),p=b.extractPrice,g=b.activeCurrency,E=Object(h.c)(i.b).t,y=Object(P.useSelector)((function(e){return e.basketData.price}),P.shallowEqual);return y?d.a.createElement("div",{className:"summary-container"},d.a.createElement("div",{className:"summary-list"},d.a.createElement(u.Fragment,null,d.a.createElement("div",{className:"summary-list-item"},d.a.createElement("div",{className:"summary-list-item-title"},E("Tour Package")),d.a.createElement("div",{className:"summary-list-item-sum"},"".concat((null===(e=y.details)||void 0===e?void 0:e.packet)&&Object(O.b)(p(null===(t=y.details)||void 0===t||null===(n=t.packet)||void 0===n?void 0:n.price,"sum")))," ",g&&d.a.createElement(s.a,{currencyCode:g.code,size:14})),d.a.createElement("ul",{className:"summary-list-item-full-width"},null===(a=y.details)||void 0===a||null===(r=a.packet)||void 0===r||null===(o=r.services)||void 0===o?void 0:o.map((function(e){return d.a.createElement(S,{key:e.id,priceItem:e})})))),null===(l=y.details)||void 0===l||null===(m=l.addServices)||void 0===m?void 0:m.map((function(e,t){return d.a.createElement("div",{key:t,className:"summary-list-item"},d.a.createElement("div",{className:"summary-list-item-title"},e.name),d.a.createElement("div",{className:"summary-list-item-sum"},d.a.createElement("span",null,p(e.price,"sum")>0?"+".concat(Object(O.b)(p(e.price,"sum"))):Object(O.b)(p(e.price,"sum"))," "),g&&d.a.createElement(s.a,{currencyCode:g.code})))})),d.a.createElement(c.a,{themes:c.b.mouzenidis},d.a.createElement(d.a.Fragment,null,null===(f=y.details)||void 0===f||null===(v=f.discounts)||void 0===v?void 0:v.map((function(e){return d.a.createElement("div",{key:e.code,className:"summary-list-item"},d.a.createElement("div",{className:"summary-list-item-title"},e.name),d.a.createElement("div",{className:"summary-list-item-sum"},d.a.createElement("span",null,p(e.price,"sum")>0?"+".concat(Object(O.b)(p(e.price,"sum"))):Object(O.b)(p(e.price,"sum"))," "),g&&d.a.createElement(s.a,{currencyCode:g.code})))}))))))):null},S=function(e){var t=e.priceItem;return!!t.description?d.a.createElement("li",null,d.a.createElement("span",null,t.name.toLowerCase(),d.a.createElement(A.a,{title:d.a.createElement("div",null,t.description)},d.a.createElement("span",null,d.a.createElement(o.a,{className:"link small m-l-5",icon:"info-circle"}))))):d.a.createElement("li",null,t.name.toLowerCase())},V=function(){var e=Object(u.useContext)(j.a),t=e.extractPrice,n=e.activeCurrency,a=Object(h.c)(i.b).t,r=Object(P.useSelector)((function(e){return{price:e.basketData.price,tour:e.basketData.tour}}),P.shallowEqual),o=r.price,c=r.tour;return d.a.createElement("div",{className:"summary-total"},d.a.createElement("div",{className:"summary-total-title"},d.a.createElement("div",null,a("Price")),d.a.createElement("span",{className:"small grey"},c&&"".concat(a("Your tour for")," ").concat(c.nights," ").concat(a("nights")))),d.a.createElement("div",{className:"summary-total-info"},d.a.createElement("div",{className:"summary-total-info-price text-orange"},Object(O.b)(t(null===o||void 0===o?void 0:o.priceTotal,"sum"))," ",n&&d.a.createElement(s.a,{currencyCode:n.code}))))},z=n(12),_=n.n(z),M=n(2090),L=n(140),q=n(21),H=n(2233),Y=n(2222),G=n(2223),U=n(2224),K=n(2337),W=n(2370),J=n(2089),Q=n(1033),X=function(e){var t=e.confirm,n=e.cancel,o=Object(u.useState)({fetching:!1,reasons:[],selectedReason:void 0,reasonText:""}),c=Object(r.a)(o,2),l=c[0],s=c[1],m=function(e){var t,n;return null===(t=l.reasons)||void 0===t||null===(n=t.find((function(t){return t.id===e})))||void 0===n?void 0:n.isCustom};Object(u.useEffect)((function(){s((function(e){return Object(a.a)({},e,{fetching:!0})})),J.a.get("".concat(Q.b,"/orders/cancellation-reasons"),null).then((function(e){s((function(t){return Object(a.a)({},t,{fetching:!1,reasons:Object(q.a)(e.data)})}))})).catch((function(){s((function(e){return Object(a.a)({},e,{fetching:!1})}))}))}),[]);var f=Object(u.useMemo)((function(){return!!l.fetching||(!(!l.selectedReason||!m(l.selectedReason)||l.reasonText)||!l.selectedReason)}),[l.selectedReason,l.reasonText,l.fetching]),p=Object(h.c)(i.a).t,g=function(){var e=null;if(l.selectedReason&&m(l.selectedReason))e=l.reasonText;else{var n=l.reasons.find((function(e){return e.id===l.selectedReason}));e=null===n||void 0===n?void 0:n.name}t({reason:e,reasonId:l.selectedReason})};return d.a.createElement(H.a,{modalTitle:p("Request cancellation"),modalFooter:function(e){var t=e.closeModal;return d.a.createElement(Y.a,null,d.a.createElement(G.a,null,d.a.createElement(U.a,{lg:12},d.a.createElement("div",{className:"text-right"},d.a.createElement(v.c,{color:"dark",plain:!0,onClick:t},p("Cancel"))," ",d.a.createElement(v.c,{type:"button",color:"success",onClick:g,disabled:f},p("Confirm"))))))},onClose:n},d.a.createElement(Y.a,null,d.a.createElement(G.a,{className:"m-b-15"},d.a.createElement(U.a,{lg:12},p("Do you want to send a cancellation request"),"?")),d.a.createElement(G.a,null,d.a.createElement(U.a,{lg:12},p("Choose a reason"),":")),d.a.createElement(G.a,null,d.a.createElement(U.a,{lg:12},l.reasons&&d.a.createElement(K.a,{valueKey:"id",labelKey:"name",options:l.reasons,onChange:function(e){s((function(t){return Object(a.a)({},t,{selectedReason:e})}))}}),l.selectedReason&&m(l.selectedReason)&&d.a.createElement(W.a,{className:"m-t-5",value:l.reasonText,onChange:function(e){var t;"string"===typeof(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)&&s((function(t){return Object(a.a)({},t,{reasonText:e.target.value})}))}}))),l.fetching&&d.a.createElement(b.a,null)))},Z=function(){var e,t,n,o,c,b,p,g=Object(L.e)(),y=Object(u.useContext)(j.a),C=y.extractPrice,x=y.activeCurrency,N=Object(u.useState)({canceled:!1,showConfirmDialog:!1}),w=Object(r.a)(N,2),I=w[0],D=w[1],T=Object(P.useDispatch)(),F=Object(h.c)(i.b).t,R=Object(E.a)((function(e){return{payment:e.basketData.payment,isPreeBooking:e.order.isPreeBooking,order:e.order.order}})),A=R.payment,B=R.isPreeBooking,S=R.order;return d.a.createElement(l.a,{className:"dashboard"},d.a.createElement("div",{className:"summary-orders summary-agency"},d.a.createElement(f.a,{isOpened:!0,className:"m-b-15",triggerBefore:!0,trigger:d.a.createElement("div",{className:"summary-agency-title"},F("Payment"),d.a.createElement(m,{isOpened:!0,iconClassName:"flipping-icon-vertical"}))},d.a.createElement("div",{className:"p-t-10 p-b-10"},(null===A||void 0===A||null===(e=A.avia)||void 0===e?void 0:e.timeLimit)&&C(null===A||void 0===A?void 0:A.avia,"sum")?d.a.createElement("div",{className:"summary-orders-item"},d.a.createElement("div",{className:"summary-orders-item-title"},d.a.createElement("div",null,F("Airline Ticketing")),d.a.createElement("div",{className:"small grey"},"".concat(F("pay_up_to")," ").concat(_()(null===A||void 0===A||null===(t=A.avia)||void 0===t?void 0:t.timeLimit).format(null===g||void 0===g?void 0:g.dateFormat)," ").concat(_()(null===A||void 0===A||null===(n=A.avia)||void 0===n?void 0:n.timeLimit).format("HH:mm")))),d.a.createElement("div",{className:"summary-orders-item-sum"},"".concat(A&&Object(O.b)(C(null===A||void 0===A?void 0:A.avia,"sum")))," ",x&&d.a.createElement(s.a,{currencyCode:x.code}))):null,null===A||void 0===A||null===(o=A.schedule)||void 0===o?void 0:o.map((function(e){return d.a.createElement("div",{key:e.order,className:"summary-orders-item"},d.a.createElement("div",{className:"summary-orders-item-title"},d.a.createElement("div",null,"".concat(F(e.textKey)," ").concat(e.percent?"(".concat(e.percent,"%)"):"")),e.timeLimit&&d.a.createElement("div",{className:"small grey"},"".concat(F("until")," ").concat(_()(e.timeLimit).format(null===g||void 0===g?void 0:g.dateFormat)," ").concat(_()(e.timeLimit).format("HH:mm")))),d.a.createElement("div",{className:"summary-orders-item-sum"},"".concat(Object(O.b)(C(e,"sum"))||0)," ",x&&d.a.createElement(s.a,{currencyCode:x.code})))})),(null===A||void 0===A?void 0:A.paid)&&d.a.createElement("div",{className:"summary-orders-item"},d.a.createElement("div",{className:"summary-orders-item-title"},d.a.createElement("div",null,F("Paid"))),d.a.createElement("div",{className:"summary-orders-item-sum"},"".concat(Object(O.b)(C(A.paid,"sum"))," ")," ",x&&d.a.createElement(s.a,{currencyCode:x.code}))),(null===A||void 0===A?void 0:A.debt)&&d.a.createElement("div",{className:"summary-orders-item"},d.a.createElement("div",{className:"summary-orders-item-title"},d.a.createElement("div",null,F("Debt")),A.debt.timeLimit&&d.a.createElement("div",{className:"small grey"},"".concat(F("until")," ").concat(_()(A.debt.timeLimit).format(null===g||void 0===g?void 0:g.dateFormat)," ").concat(_()(A.debt.timeLimit).format("HH:mm")))),d.a.createElement("div",{className:"summary-orders-item-sum"},"".concat(Object(O.b)(C(A.debt,"sum"))||0)," ",x&&d.a.createElement(s.a,{currencyCode:x.code}))))),B&&d.a.createElement(v.c,{type:"button",fullWidth:!0,color:"primary",onClick:function(){T(k.ordersActions.confirmBooking(S.code))}},F("Confirm booking")),A&&C(A.debt,"sum")>0&&A.allowPayment&&d.a.createElement("a",{rel:"noopener noreferrer",href:Object(M.a)("/payments/".concat(S.code)),target:"_blank"},d.a.createElement(v.c,{type:"button",fullWidth:!0,color:"success"},F("Pay"))),2!==(null===S||void 0===S||null===(c=S.status)||void 0===c?void 0:c.id)&&d.a.createElement("div",{className:"order-page-cancelation m-t-5"},d.a.createElement(v.c,{type:"button",fullWidth:!0,color:"danger",disabled:I.canceled,onClick:function(){D((function(e){return Object(a.a)({},e,{showConfirmDialog:!0})}))}},I.canceled&&F("Cancellation request is sent"),!I.canceled&&0===(null===(b=S.cancellationStatus)||void 0===b?void 0:b.cancellationStatus)&&F("Cancellation Request"),!I.canceled&&1===(null===(p=S.cancellationStatus)||void 0===p?void 0:p.cancellationStatus)&&F("Cancel order")),I.showConfirmDialog&&d.a.createElement(X,{confirm:function(e){T(k.ordersActions.cancelOrder(Object(a.a)({orderCode:S.code},e))),D((function(e){return Object(a.a)({},e,{showConfirmDialog:!1,canceled:!0})}))},cancel:function(){D((function(e){return Object(a.a)({},e,{showConfirmDialog:!1})}))}}))))},$=(n(2278),function(e){var t,n=e.submitAllowed,O=void 0!==n&&n,x=e.timer,w=void 0===x||x,I=e.book,D=void 0===I||I,T=e.submitForm,F=e.showPromo,A=e.style,P=e.isValid,S=Object(u.useContext)(j.a),z=S.activeCurrency,_=S.currencies,M=S.onChangeCurrency,L=Object(h.c)(i.b).t,q=Object(u.useState)({summaryOpened:D}),H=Object(r.a)(q,2),Y=H[0],G=H[1],U=Object(E.a)((function(e){return{shoppingCartId:e.basketData.shoppingCartId,basketPageData:e.basketPageData,auth:e.auth,fetching:e.basketActualization.fetching||e.basketDiscount.fetching||e.basketData.fetching,shoppingCart:e.basketData.shoppingCart,tour:e.basketData.tour,price:e.basketData.price}})),K=U.shoppingCartId,W=U.basketPageData,J=U.auth,Q=U.fetching,X=U.shoppingCart,$=Object(y.a)(Object(a.a)({},k.basketActions,{},k.authActions)).actions,ee=Object(u.useMemo)((function(){return 0===(null===X||void 0===X?void 0:X.contractType)?L("Agency contract"):1===(null===X||void 0===X?void 0:X.contractType)?L("Direct contract"):""}),[null===X||void 0===X?void 0:X.contractType]),te=Object(u.useMemo)((function(){var e;return(null===(e=W.bookingBlockedByCause)||void 0===e?void 0:e.length)>0}),[null===W||void 0===W?void 0:W.bookingBlockedByCause]);return d.a.createElement("div",{className:"summary",style:Object(a.a)({},A)},D&&X&&"undefined"!==typeof X.contractType&&d.a.createElement(g.a,{allowedRoles:[p.a.DIRECT_PARTNER]},d.a.createElement(l.a,{className:"dashboard"},d.a.createElement("div",{className:"is-partner"},d.a.createElement("span",{className:"is-partner-icon"},d.a.createElement(o.a,{icon:"handshake"})),d.a.createElement("span",null,ee)))),w&&d.a.createElement(R,{onExpired:function(){$.basketExpired(!0)},onResetTimer:function(){K&&$.renewBasket(K)}}),d.a.createElement(l.a,{className:"dashboard"},d.a.createElement(c.a,{themes:c.b.mouzenidis},d.a.createElement("div",{className:"summary-switch"},d.a.createElement("div",null,d.a.createElement("span",{className:"m-r-5"},L("Currency")),d.a.createElement("span",{className:"summary-switch-items"},null===_||void 0===_?void 0:_.map((function(e){return d.a.createElement("div",{key:e.code,className:"summary-switch-item ".concat(z&&z.type===e.type?"active":"link"),onClick:M(e)},d.a.createElement(s.a,{currencyCode:e.code,size:12}))})))),d.a.createElement("div",{className:"summary-switch-btn ".concat(Y.summaryOpened?"opened":""),onClick:function(){G((function(e){return Object(a.a)({},e,{summaryOpened:!e.summaryOpened})}))}},d.a.createElement(m,{isOpened:Y.summaryOpened,iconClassName:"flipping-icon-vertical"})))),d.a.createElement(f.a,{isOpened:Y.summaryOpened},d.a.createElement(B,null)),d.a.createElement(V,null),F&&(null===X||void 0===X?void 0:X.allowPromoCode)&&d.a.createElement("div",{className:"m-t-5"},d.a.createElement(g.a,{allowedRoles:[p.a.TOURIST,p.a.EMPLOYEE],unallowedRoles:[p.a.AGENCY]},d.a.createElement(N,null)))),d.a.createElement(C,null),!D&&(null===X||void 0===X||null===(t=X.allowedActions)||void 0===t?void 0:t.viewPayments)&&d.a.createElement(Z,null),D&&d.a.createElement(g.a,{allowedRoles:[p.a.AGENCY],unallowedRoles:[p.a.READONLY,p.a.TOURIST,p.a.AGENCY]},d.a.createElement("div",{className:"summary-total-button-group"},d.a.createElement(v.c,{type:"button",onClick:function(){J.user&&J.user.isAuthenticated?null===T||void 0===T||T():$.authorize({source:"booking"})},disabled:!(O&&P&&!te)},L("Book")))),Q&&d.a.createElement(b.a,null))})},1040:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=100,r=function(){return a+=1},o=function(e){a=100;var t=function(e){return(null===e||void 0===e?void 0:e.length)?e.map((function(e){return{lastName:r(),firstName:r(),birthdate:r(),citizenshipId:r(),passport:r(),pasportExpiration:r(),taxNumber:r(),order:e.order}})):[{lastName:r(),firstName:r(),birthdate:r(),citizenshipId:r(),passport:r(),pasportExpiration:r(),taxNumber:r(),order:0}]}(e.tourists);return{tourists:t,emergencyPhone:r(),officeId:r(),comment:r(),agree:r(),userAgreement:r(),prebooking:r(),booking:r(),tourist:function(e){return null===t||void 0===t?void 0:t.find((function(t){return t.order===e}))}}}},1116:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(258),r=n(2501),o=n(8),i=n(2221),c=n(2107),l=n(2223),s=n(2224),u=n(2500),d=n(2309),m=n(2370),f=n(2332),v=n(2207),b=n(2246),p=n(0),h=n.n(p),g=n(17),E=n(39),y=n(75),k=(n(2335),n(1036)),O=n(791),j=Object(E.connect)((function(e){return{offices:e.basketPageData.offices,notes:e.basketPageData.notes,basketData:e.basketData,tourDescription:e.basketData.tour&&e.basketData.tour.description,tourDateBegin:e.basketData.tour&&e.basketData.tour.dateBegin,myCity:Object(r.a)(e),basketPageData:e.basketPageData,isAgency:e.auth.user&&e.auth.user.isAgency}}),(function(e){return{actions:Object(y.bindActionCreators)(o.basketActions,e)}}))((function(e){var t,n=Object(p.useMemo)((function(){return e.basketPageData.bookingBlockedByCause}),[e.basketPageData.bookingBlockedByCause]),r=Object(p.useContext)(k.a);Object(p.useEffect)((function(){var t=e.basketPageData.ageRestriction;if(e.isAgency&&t&&e.values.tourists&&e.tourDateBegin){var a=[];e.values.tourists.forEach((function(){a.push(!1)})),e.values.tourists.forEach((function(n,r){if(""!==n.birthdate){var o=function(e,t){var n=new Date(t),a=n.getFullYear()-e.getFullYear(),r=n.getMonth()-e.getMonth();return(r<0||0===r&&e.getDate()>n.getDate())&&a--,a}(n.birthdate,e.tourDateBegin);t.ageFrom&&o<t.ageFrom||t.ageTo&&o>t.ageTo?a[r]=!0:(t.ageFrom&&o>=t.ageFrom||t.ageTo&&o<=t.ageTo)&&(a[r]=!1)}})),a.includes(!0)&&!n.includes(3)?e.actions.addBlockedByCause(3):!a.includes(!0)&&n.includes(3)&&e.actions.removeBlockedByCause(3)}}),[e]),Object(p.useEffect)((function(){if(e.isAgency){var t=e.values.officeId,a=e.basketPageData.limitedBookingFilials;a&&a.length>0&&(a.includes(t)||n.includes(1)?a.includes(t)&&n.includes(1)&&e.actions.removeBlockedByCause(1):e.actions.addBlockedByCause(1))}}),[e.values.officeId]);var o=e.offices,E=e.forwardFocusRef,y=e.myCity,j=e.title,C=e.values,x=e.basketData,N=Object(p.useMemo)((function(){return e.basketPageData.ageRestriction}),[e.basketPageData.ageRestriction]),w=Object(g.c)(a.b).t;return h.a.createElement("div",{className:"booking-payment-container"},h.a.createElement(c.a,{className:"dashboard",title:h.a.createElement("div",null,j||w("Booking"))},h.a.createElement(l.a,null,h.a.createElement(s.a,{md:6},h.a.createElement("div",{className:"booking-payment-phone"},h.a.createElement(b.b,{tabIndex:r.emergencyPhone,label:w("Tourist emergency contact number"),name:"emergencyPhone",forwardFocusRef:E,component:u.a,country:null===y||void 0===y?void 0:y.countryCode,placeholder:w("Enter a phone number")}))),h.a.createElement(s.a,{md:6},!C.officeDisabled&&h.a.createElement("div",{className:"booking-payment-branch-select"},h.a.createElement(b.b,{name:"officeId",tabIndex:r.officeId,placeholder:w("Select"),label:w("Service office"),valueKey:"id",labelKey:"name",options:o,component:d.a,forwardFocusRef:E}))),h.a.createElement(s.a,{md:12},h.a.createElement("div",{className:"m-t-10 booking-payment-text"},h.a.createElement(m.a,{tabIndex:r.comment,onChange:function(t){e.setFieldValue("comment",t.target.value)},value:null===(t=e.values)||void 0===t?void 0:t.comment,label:w("Notes")}))),h.a.createElement(i.a,{themes:i.b.mouzenidis},h.a.createElement(s.a,{md:12},n&&n.length>0&&n.includes(1)&&h.a.createElement("div",{className:"well css-html-reset"},"".concat(w("The possibility of booking tours is blocked until the original contract is submitted to the tour operator's office"))),n&&n.length>0&&n.includes(2)&&h.a.createElement("div",{className:"well css-html-reset"},"\u0414\u043b\u044f \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u043d\u044f \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u043d\u0430\u0434\u0430\u0442\u0438 \u043a\u043e\u043f\u0456\u044e \u0434\u0456\u044e\u0447\u043e\u0457 \u0433\u0430\u0440\u0430\u043d\u0442\u0456\u0457 \u0444\u0456\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0446\u0438\u0432\u0456\u043b\u044c\u043d\u043e\u0457 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456 \u0442\u0443\u0440\u0430\u0433\u0435\u043d\u0442\u0430 \u0437\u0433\u0456\u0434\u043d\u043e \u0420\u043e\u0437\u0434\u0456\u043b\u0443 15 \u0421\u0442\u0430\u0442\u0442\u0456 3 \u0417\u0430\u043a\u043e\u043d\u0443 \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u041f\u0440\u043e \u0442\u0443\u0440\u0437\u0438\u043c. "),N&&h.a.createElement("div",{className:"well css-html-reset text-red"},"".concat(w("Age restriction")," ")+function(e){var t="";return e.ageFrom&&!e.ageTo&&(t="".concat(e.ageFrom,"+")),e.ageFrom&&e.ageTo&&(t="".concat(e.ageFrom,"-").concat(e.ageTo)),t}(N))))),h.a.createElement(l.a,{className:"m-t-15"},h.a.createElement(i.a,{themes:i.b.mouzenidis},h.a.createElement(s.a,{md:12},h.a.createElement("div",null,h.a.createElement(b.b,{label:h.a.createElement("div",null,h.a.createElement("div",{className:"booking-payment-agreement-text"},"".concat(w("I agree with")," "),h.a.createElement("a",{href:"".concat(Object(v.a)(),"/greece/article/booking_conditions"),className:"link",target:"blank"},w("the booking conditions"))," ".concat(w("and the terms and conditions of the selected tariff")))),tabIndex:r.agree,ref:function(e){return E("agree",e)},name:"agree",component:f.a})),h.a.createElement("div",null,h.a.createElement(b.b,{label:h.a.createElement("div",{className:"booking-payment-agreement-text"},"".concat(w("I agree to")," "),h.a.createElement("a",{href:"".concat(Object(v.a)(),"/greece/article/user_agreement"),className:"link m-r-5",target:"blank"},w("the processing and transfer")),"".concat(w("of personal data")," ")),tabIndex:r.userAgreement,ref:function(e){return E("userAgreement",e)},name:"userAgreement",component:f.a})))),h.a.createElement(i.a,{themes:i.b.bomo},h.a.createElement(s.a,{md:12},h.a.createElement("div",null,h.a.createElement(b.b,{label:h.a.createElement("div",null,h.a.createElement("div",{className:"booking-payment-agreement-text"},"".concat(w("I agree to the hotel")," "),h.a.createElement(O.default,{tour:x.tour})," ",w("of the selected tariff")," ")),tabIndex:r.agree,ref:function(e){return E("agree",e)},name:"agree",component:f.a})),h.a.createElement("div",null,h.a.createElement(b.b,{label:h.a.createElement("div",{className:"booking-payment-agreement-text"},"".concat(w("I agree to the")," "),h.a.createElement("a",{className:"link dotted",target:"blank",href:"".concat(Object(v.a)(),"/article/privacy-notice")},w("privacy policy"))),tabIndex:r.userAgreement,ref:function(e){return E("userAgreement",e)},name:"userAgreement",component:f.a})))))))}))},2095:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(57),o=n(258),i=n(2107),c=n(2279),l=n(2215),s=n(2326),u=n(1034),d=n(2246),m=n(0),f=n.n(m),v=n(17),b=n(79),p=n.n(b),h=n(39),g=n(75),E=n(2088),y=n(8),k=n(21),O=n(139),j=n(155),C=n(264),x=n(2304),N=n(2305),w=n(2306),I=n(2309),D=n(2105),T=n(2225),F=n(106),R=n(254),A=n(1036),P=n(23),B=n(2235),S=n(2098),V=n(12),z=n.n(V),_=n(33),M=n(2262),L=function(e,t){return t},q=Object(_.a)([function(e){return e.basketInsurance.insurance}],(function(e){return e.map((function(e){return Object(a.a)({},e,{variants:e.variants&&e.variants.map((function(e){return{label:e.name,value:e.id}}))})}))})),H=Object(_.a)([M.e,function(e){return e.basketInsurance.selectedInsurance},L],(function(e,t,n){return t.map((function(t){var n,a,r,o=null===e||void 0===e||null===(n=e.tourists)||void 0===n?void 0:n.filter((function(e){return e.services.some((function(e){return e===t.id||t.parentId}))}));return{name:null===t||void 0===t||null===(a=t.subService)||void 0===a?void 0:a.name,touristIds:null===o||void 0===o?void 0:o.map((function(e){return e.id})),dateBegin:t.dateBegin,dateEnd:t.dateEnd,subService:null===(r=t.subService1)||void 0===r?void 0:r.name,groupId:t.groupId}})).filter((function(e){var t;return null===e||void 0===e||null===(t=e.touristIds)||void 0===t?void 0:t.includes(n)}))})),Y=Object(_.a)([function(e){return e.basketInsurance.selectedInsuranceServices},L],(function(e,t){return e.filter((function(e){return e.touristId===t}))})),G=n(2214),U=n(2213),K=n(140),W=function(e){var t=e.touristId,n=e.editInsurances,a=Object(G.a)((function(e){return{insurance:q(e),selectedInsurance:H(e,t),selectedInsuranceServices:Y(e,t),shoppingCartId:e.basketData.shoppingCartId}})),r=a.insurance,i=a.selectedInsurance,c=a.selectedInsuranceServices,l=a.shoppingCartId,s=Object(U.a)(y.basketInsuranceActions).actions,d=Object(v.c)(o.b).t,b=Object(K.e)(),p=function(e){var t=c.find((function(t){return t.groupId===e}));if(!t){var n,a=r.find((function(t){return t.groupId===e}));return(null===a||void 0===a||null===(n=a.variants)||void 0===n?void 0:n.length)&&a.variants[0].value}return null===t||void 0===t?void 0:t.variantId},h=function(e){s.addTouristInsurance({shoppingCartId:l,service:e})},g=function(e){s.removeTouristInsurance({shoppingCartId:l,service:e})},E=Object(m.useMemo)((function(){var e=i.map((function(e){return e.name})).join(", ");return e?": ".concat(e):""}),[i]),k=function(e){return function(n){if(n.target.checked){var a,o=r.find((function(t){return t.groupId===e})),i=(null===o||void 0===o||null===(a=o.variants)||void 0===a?void 0:a.length)&&o.variants[0].value;i&&h({touristId:t,variantId:i,groupId:e})}else{var c=p(e);g({touristId:t,variantId:c,groupId:e})}}},j=function(e){return function(n){h({touristId:t,variantId:n,groupId:e})}},C=Object(m.useMemo)((function(){return 1===(null===c||void 0===c?void 0:c.length)&&(null===r||void 0===r?void 0:r.length)&&n}),[c,r,n]);return((null===r||void 0===r?void 0:r.length)||(null===i||void 0===i?void 0:i.length))&&(n||(null===i||void 0===i?void 0:i.length))?f.a.createElement("div",{className:"basket-tourist-form-visa"},f.a.createElement(B.a,{label:d("Add insurance"),triggerBefore:!0,trigger:f.a.createElement(u.a,{title:(null===i||void 0===i?void 0:i.length)?"".concat(d("Insurance")).concat(E):d("Add insurance")},f.a.createElement(F.c,{size:"sm",type:"button",color:(null===i||void 0===i?void 0:i.length)?"primary":"default",pluginAfter:C?f.a.createElement(O.a,{onClick:function(){var e=c||[],n=Object(P.a)(e,1)[0],a=p(null===n||void 0===n?void 0:n.groupId);g({touristId:t,variantId:a,groupId:null===n||void 0===n?void 0:n.groupId})},icon:"times"}):void 0},(null===i||void 0===i?void 0:i.length)?f.a.createElement("span",{className:"basket-tourist-form-visa-button-text"},"".concat(d("Insurance")).concat(E)):d("Add insurance"))," ")},null===r||void 0===r?void 0:r.map((function(e,t){var a,r;return f.a.createElement("div",{key:"ins_".concat(t),className:"basket-tourist-form-visa-dropdown"},f.a.createElement("div",{className:"basket-tourist-form-visa-dropdown-item"},f.a.createElement(T.a,{label:e.name,disabled:!n,checked:(r=e.groupId,i.some((function(e){return e.groupId===r}))),onChange:k(e.groupId)}),(null===e||void 0===e||null===(a=e.variants)||void 0===a?void 0:a.length)&&f.a.createElement(S.b,{label:d("Insurance cover"),clearable:!1,disabled:!n,value:p(e.groupId),options:e.variants,onChange:j(e.groupId)}),f.a.createElement("div",{className:"services-timeline-date m-t-10"},z()(e.dateBegin).format(b.dateFormat)," -"," ",z()(e.dateEnd).format(b.dateFormat))))})))):null},J=n(2217),Q=Object(_.a)((function(e,t){return e.basketTouristDocuments.touristsDocumentTypes.filter((function(e){return e.countryId===t.values.citizenshipId}))}),(function(e){return e})),X=Object(h.connect)((function(e,t){return{documentTypes:Q(e,t)}}),null)((function(e){var t=e.member,n=e.documentTypes,a=e.forwardFocusRef,r=e.editable,i=e.values,c=e.form,l=function(e){return function(e){if(null===e||void 0===e?void 0:e.mask)return{mask:e.mask.split(",").map((function(e){return" "===e?e:new RegExp(e)})),splitted:e.mask.split(","),id:e.documentTypeId}}(e)},s=Object(v.c)(o.b).t,u=Object(m.useContext)(A.a),b=Object(m.useState)(void 0),p=Object(P.a)(b,2),h=p[0],g=p[1];Object(m.useEffect)((function(){var e=function(){if(null===n||void 0===n?void 0:n.length){return(i.documentType?n.find((function(e){return e.documentTypeId===i.documentType&&e.countryId===i.citizenshipId})):n.find((function(e){return e.isDefault&&e.countryId===i.citizenshipId})))||null}return null}();g(l(e)),e&&e.documentTypeId!==i.documentType&&E(e.documentTypeId)}),[i.documentType,n]);var E=function(e){e||c.setFieldValue("".concat(t,".passport"),""),c.setFieldValue("".concat(t,".documentType"),e)};return f.a.createElement(d.b,{name:"".concat(t,".passport")},(function(e){var o,c;return(null===h||void 0===h||null===(o=h.splitted)||void 0===o?void 0:o.length)&&(e.field.onChange=function(e,t,n,a,r){return function(o){var i=o.target.value.split(n),c=i.length?1===i.length?"":i[0]:"",l=i.length?1===i.length?i[0]:i[1]:"";c&&c.length>a&&(c=c.substring(0,a)),l&&l.length>r&&(l=l.substring(0,r)),t.setFieldValue(e,c?"".concat(c).concat(n).concat(l):l)}}("".concat(t,".passport"),e.form,h.splitted[0],parseInt(h.splitted[1],10),parseInt(h.splitted[2],10))),f.a.createElement(N.a,{tabIndex:null===(c=u.tourist(i.order))||void 0===c?void 0:c.passport,form:e.form,field:e.field,disabled:!r,forwardFocusRef:a,label:r&&n&&n.length?f.a.createElement(J.a,{className:"passport-dropdown",valueKey:"documentTypeId",labelKey:"documentTypeName",value:i.documentType,onChange:E,items:n}):f.a.createElement("div",null,s("Passport")),mask:null===h||void 0===h?void 0:h.mask,selectAllOnFocus:!0})}))})),Z=n(2207),$={1:"AnketaVisa",2:"BiometricConfirmation",3:"AnketaProvisa",4:"ProvisaDocument"},ee=function(e){var t=e.touristId,n=e.visualStatus,a=Object(K.e)(),r=Object(v.c)(o.b).t,i=Object(h.useSelector)((function(e){var n,a=null===(n=e.basketVisas.visaCenters)||void 0===n?void 0:n.find((function(e){return e.touristId===t}));return{visaDocuments:null===a||void 0===a?void 0:a.visaDocuments,visaStatus:null===a||void 0===a?void 0:a.visaStatus}}),h.shallowEqual),c=i.visaDocuments,l=i.visaStatus,s=Object(m.useMemo)((function(){return(null===l||void 0===l?void 0:l.hasErrors)&&(null===l||void 0===l?void 0:l.messages)?l.messages.join():0===n&&(null===l||void 0===l?void 0:l.dateFromEmbassy)?"".concat(r("Visa received")," ").concat(z()(l.dateFromEmbassy).format(a.dateFormat)):2===n&&(null===l||void 0===l?void 0:l.visaReject)?r("Refusal of a visa"):1===n?(null===l||void 0===l?void 0:l.dateToEmbassy)?"".concat(r("Documents sent to the consulate")," ").concat(z()(l.dateToEmbassy).format(a.dateFormat)):!(null===l||void 0===l?void 0:l.dateToEmbassy)&&(null===l||void 0===l?void 0:l.dateReceived)?"".concat(r("Documents for registration received")," ").concat(z()(l.dateReceived).format(a.dateFormat)):r("Waiting for the visa documents"):void 0}),[l,n]);return l&&s?f.a.createElement("div",{className:"basket-tourist-form-status small"},f.a.createElement("span",{className:"orange"},s),null===c||void 0===c?void 0:c.map((function(e,t){return f.a.createElement("a",{key:t,className:"link small dotted m-r-5",href:"".concat(e.isOldSite?"https://online215.mouzenidis-travel.ru":Object(Z.a)()).concat(e.documentLink),target:"_blank",rel:"noopener noreferrer"},r($[e.type]))}))):null},te=n(2332),ne=function(e){var t=e.touristId,n=e.values,a=e.member,r=e.onSelectVisa,i=e.onDeleteVisa,c=e.setFieldValue,l=e.onDeleteBiometry,s=e.onSelectBiometry,u=Object(v.c)(o.b).t,b=Object(h.useSelector)((function(e){var n,a,r=null===(n=e.basketVisas.visaCenters)||void 0===n?void 0:n.find((function(e){return e.touristId===t})),o=null===(a=e.basketVisas.mobileBiometrics)||void 0===a?void 0:a.find((function(e){return e.touristId===t}));return{visaOptions:null===r||void 0===r?void 0:r.variants,mobileBiometricOptions:null===o||void 0===o?void 0:o.variants,visaCenters:e.basketVisas.visaCenters}}),h.shallowEqual),p=b.visaOptions,g=b.mobileBiometricOptions,E=b.visaCenters,y=Object(m.useMemo)((function(){var e=null===p||void 0===p?void 0:p.find((function(e){return e.id===n.visaCenter}));return(null===e||void 0===e?void 0:e.name)||""}),[p,n.visaCenter]);return(n.visa||n.editVisas)&&E.length?f.a.createElement("div",{className:"basket-tourist-form-visa"},f.a.createElement(B.a,{label:u("Add visa"),triggerBefore:!0,trigger:f.a.createElement(F.c,{type:"button",size:"sm",color:n.visaCenter&&n.visa?"primary":"default",pluginAfter:n.editVisas&&n.visaCenter&&n.visa&&f.a.createElement("span",{onClick:function(e){e.stopPropagation(),(null===n||void 0===n?void 0:n.visaCenter)&&(null===i||void 0===i||i({selectedVariants:[n.visaCenter],selectedMobileBiometryVariants:n.biometry?[n.biometry]:[]})),null===c||void 0===c||c("".concat(a,".isBiometry"),!1),null===c||void 0===c||c("".concat(a,".visa"),!1),null===c||void 0===c||c("".concat(a,".biometry"),null)}},f.a.createElement(O.a,{icon:"times"}))},n.visaCenter&&n.visa?"".concat(u("Visa application"),": ").concat(y):u("Add visa"))},f.a.createElement("div",{className:"basket-tourist-form-visa-dropdown"},f.a.createElement("div",{className:"basket-tourist-form-visa-dropdown-item"},f.a.createElement(d.b,{label:u("Apply for a visa"),name:"".concat(a,".visa"),onChange:function(e){e.target.checked?(null===n||void 0===n?void 0:n.visaCenter)&&(null===r||void 0===r||r({selectedVariants:[n.visaCenter]})):((null===n||void 0===n?void 0:n.visaCenter)&&(null===i||void 0===i||i({selectedVariants:[n.visaCenter],selectedMobileBiometryVariants:n.biometry?[n.biometry]:[]})),null===c||void 0===c||c("".concat(a,".isBiometry"),!1),null===c||void 0===c||c("".concat(a,".biometry"),null))},component:te.a,disabled:!n.editVisas}),f.a.createElement(d.b,{name:"".concat(a,".visaCenter"),label:u("Visa Center"),valueKey:"id",labelKey:"name",placeholder:u("Select"),onChange:function(e){null===r||void 0===r||r({selectedVariants:[e]})},options:p,clearable:!1,component:I.a,disabled:!n.editVisas||!n.visa})),(null===g||void 0===g?void 0:g.length)>0&&f.a.createElement("div",{className:"basket-tourist-form-visa-dropdown-item"},f.a.createElement(d.b,{label:u("Mobile biometry"),name:"".concat(a,".isBiometry"),component:te.a,onChange:function(e){e.target.checked||(null===c||void 0===c||c("".concat(a,".biometry"),null),(null===n||void 0===n?void 0:n.biometry)&&(null===l||void 0===l||l({selectedVariants:[n.biometry]})))},disabled:!n.editMobileBiometrics}),f.a.createElement(d.b,{name:"".concat(a,".biometry"),valueKey:"id",labelKey:"name",clearable:!1,label:u("Choose a city"),placeholder:u("Select"),onChange:function(e){null===s||void 0===s||s({selectedVariants:[{serviceId:e}]})},options:g,component:I.a,disabled:!n.editMobileBiometrics||!n.isBiometry}))))):null},ae=function(e){var t=e.tourist,n=Object(v.c)([o.b,o.f]).t,a=Object(m.useMemo)((function(){switch(t.ageType){case 0:return"".concat(n("Adult"));case 1:return"".concat(n("Child")," ").concat(n("".concat(o.f,":childWithCountAges"),{count:t.age}));case 2:return"".concat(n("Infant")," ").concat(n("".concat(o.f,":childWithCountAges"),{count:t.age}));default:return"".concat(n("Adult"))}}),[t.age,t.ageType]);return Object(m.useMemo)((function(){return f.a.createElement("div",{className:"tourist-age"},a)}),[a])},re=(n(2260),function(e){var t,n,a,i,c,l=e.fields,s=e.form,u=e.member,b=e.values,p=e.getDocumentTypes,h=e.citizenships,g=e.citizenshipsLoading,E=e.booking,y=e.attributes,P=e.forwardFocusRef,B=e.visasFetching,S=Object(r.a)(e,["fields","form","member","values","getDocumentTypes","citizenships","citizenshipsLoading","booking","attributes","forwardFocusRef","visasFetching"]),V=Object(v.c)(o.b),z=V.t,_=V.i18n,M=Object(K.e)(),L=Object(m.useContext)(A.a),q=function(e){return function(t){var n,a=null===(n=t.target.value)||void 0===n?void 0:n.toUpperCase();s.setFieldValue(e,a)}},H=Object(j.a)((function(e){return!(l.length>0)||l.findIndex((function(t){return t.code===e}))>-1}));return f.a.createElement(f.a.Fragment,null,f.a.createElement(ae,{tourist:b}),f.a.createElement(f.a.Fragment,null,f.a.createElement(d.b,{name:"".concat(u,".id"),style:{display:"none"}}),H("gender")&&f.a.createElement("div",{className:"basket-tourist-form-item gender"},f.a.createElement(C.a,null,z("Gender")),f.a.createElement(d.b,{name:"".concat(u,".gender"),component:x.a,disabled:!b.editable,type:"default",active:b.gender||"m",options:[{value:"m",label:z("M")},{value:"f",label:z("F")}]})),H("lastName")&&f.a.createElement("div",{className:"basket-tourist-form-item surname"},f.a.createElement(d.b,{name:"".concat(u,".lastName")},(function(e){var t;return e.field.onChange=q("".concat(u,".lastName")),f.a.createElement(N.a,{tabIndex:null===(t=L.tourist(b.order))||void 0===t?void 0:t.lastName,form:e.form,field:e.field,disabled:!b.editable,forwardFocusRef:P,type:"text",label:z("Last name")})})),b.isTaxNumber&&f.a.createElement(d.b,{name:"".concat(u,".taxNumber"),tabIndex:null===(t=L.tourist(b.order))||void 0===t?void 0:t.taxNumber,disabled:!b.editable,forwardFocusRef:P,type:"text",label:z("Tax number"),component:N.a})),H("firstName")&&f.a.createElement("div",{className:"basket-tourist-form-item name"},f.a.createElement(d.b,{name:"".concat(u,".firstName")},(function(e){var t;return e.field.onChange=q("".concat(u,".firstName")),f.a.createElement(N.a,{tabIndex:null===(t=L.tourist(b.order))||void 0===t?void 0:t.firstName,form:e.form,field:e.field,disabled:!b.editable,forwardFocusRef:P,type:"text",label:z("Name")})}))),H("birthdate")&&f.a.createElement("div",{className:"basket-tourist-form-item date-of-birth"},f.a.createElement(d.b,{locale:_.language,name:"".concat(u,".birthdate"),component:w.a,tabIndex:null===(n=L.tourist(b.order))||void 0===n?void 0:n.birthdate,label:z("Date of birth"),mask:M.dateFormatMask,clearable:!1,format:M.dateFormat,placeholder:M.dateFormat,disabled:!b.editable,minDate:b.birthDateMin?new Date(b.birthDateMin):void 0,maxDate:b.birthDateMax?new Date(b.birthDateMax):void 0,year:!0,forwardFocusRef:P})),H("citizenshipId")&&f.a.createElement("div",{className:"basket-tourist-form-item citizenship"},f.a.createElement(d.b,{tabIndex:null===(a=L.tourist(b.order))||void 0===a?void 0:a.citizenshipId,label:z("Citizenship"),name:"".concat(u,".citizenshipId"),forwardFocusRef:P,valueKey:"id",labelKey:"name",placeholder:z("Select"),loading:g,options:h,clearable:!1,component:I.a,disabled:!b.editable,onChange:function(e){e&&p&&p(e,b.id),s.setFieldValue("".concat(u,".citizenshipId"),e)}})),H("passport")&&f.a.createElement("div",{className:"basket-tourist-form-item passport"},f.a.createElement(X,Object.assign({},S,{form:s,forwardFocusRef:P,values:b,member:u,editable:b.editable}))),H("pasportExpiration")&&f.a.createElement("div",{className:"basket-tourist-form-item passport-date"},f.a.createElement(d.b,{name:"".concat(u,".pasportExpiration"),component:w.a,tabIndex:null===(i=L.tourist(b.order))||void 0===i?void 0:i.pasportExpiration,label:z("Valid until"),mask:M.dateFormatMask,clearable:!1,format:M.dateFormat,placeholder:M.dateFormat,year:!0,disabled:!b.editable,minDate:b.pasportExpirationMin?new Date(b.pasportExpirationMin):void 0,forwardFocusRef:P})),(null===y||void 0===y?void 0:y.length)?f.a.createElement("div",{className:"basket-tourist-form-item more-options"},f.a.createElement(C.a,{visible:!1},z("More")),f.a.createElement(D.a,{position:"bottom-right",content:f.a.createElement("div",null,f.a.createElement("ul",{className:"nostyles"},y.map((function(e){return f.a.createElement("li",{key:e.id},f.a.createElement(T.a,{label:e.name,checked:b.attributeIds.includes(e.id),onChange:(t=e.id,function(e){e.target.checked?s.setFieldValue("".concat(u,".attributeIds"),[].concat(Object(k.a)(b.attributeIds),[t])):s.setFieldValue("".concat(u,".attributeIds"),Object(k.a)(b.attributeIds.filter((function(e){return e!==t}))))}),disabled:!b.editable}));var t}))))},f.a.createElement(F.c,{color:"default"},f.a.createElement(O.a,{icon:"ellipsis-h"})))):null,f.a.createElement("div",{className:"basket-tourist-form-other"},f.a.createElement("div",{className:"basket-tourist-form-actions"},f.a.createElement(ne,Object.assign({},S,{touristId:b.id,member:u,values:b})),B&&f.a.createElement(R.a,{className:"m-r-10",size:16,color:"dark"}),f.a.createElement(W,{touristId:b.id,editInsurances:b.editInsurances})),f.a.createElement("div",{className:"basket-tourist-form-tags"},null===y||void 0===y?void 0:y.filter((function(e){return b.attributeIds.includes(e.id)})).map((function(e){return f.a.createElement("div",{key:e.id,className:"basket-tourist-form-item-tag"},e.name,f.a.createElement("span",null,b.editable&&f.a.createElement(O.a,{icon:"times",onClick:(t=e.id,function(){s.setFieldValue("".concat(u,".attributeIds"),Object(k.a)(b.attributeIds.filter((function(e){return e!==t}))))})})));var t}))),!E&&f.a.createElement(ee,{visualStatus:null===(c=b.status)||void 0===c?void 0:c.visualStatus,touristId:b.id}))))}),oe=n(2221),ie=function(){var e=Object(v.c)(o.b).t;return f.a.createElement(oe.a,{themes:oe.b.mouzenidis},f.a.createElement(p.a,{query:"(max-width: 991px)"},(function(t){return t?f.a.createElement(s.a,{color:"warning",small:!0},"".concat(e("Attention"),"! ").concat(e("For tourists over 65 years there is an")," ")," ","".concat(e("age-specific rate"),".")," "," ".concat(e("The reservation cost will be recalculated"),".")):f.a.createElement(s.a,{color:"warning",small:!0},"".concat(e("Attention"),"! ").concat(e("For tourists over 65 years there is an")," "),f.a.createElement(u.a,{title:f.a.createElement("div",null,"".concat(e("Russia"),": 65 ").concat(e("years old"),"-x2, 70 ").concat(e("years old"),"-x3, 75 ").concat(e("years old"),"-x4. ").concat(e("Ukraine"),": ").concat(e("from")," 70 ").concat(e("years old")," ").concat(e("and")," ").concat(e("older"),"-x2"))},f.a.createElement("div",{className:"dotted link"},"".concat(e("age-specific rate"),".")))," ".concat(e("The reservation cost will be recalculated"),"."))})))};t.default=Object(h.connect)((function(e){var t,n,a;return{touristsFetching:e.basketTouristDocuments.touristsFetching,citizenships:e.basketPageData.citizenships,visasFetching:e.basketVisas.fetching,shoppingCartId:e.basketData.shoppingCartId,fetching:e.basketData.fetching||e.basketVisas.changing||e.basketInsurance.fetching,fields:e.basketData.fields,showBookingCondition:null===(t=e.basketData.shoppingCart)||void 0===t||null===(n=t.metaData)||void 0===n||null===(a=n.services)||void 0===a?void 0:a.showBasketTouristInsuranceInfo}}),(function(e){return{actions:Object(g.bindActionCreators)(Object(a.a)({},y.basketActions,{},y.basketVisasActions),e)}}))((function(e){var t=e.values,n=e.citizenshipsLoading,s=e.booking,u=e.fetching,b=e.touristsFetching,p=e.shoppingCartId,h=e.actions,g=e.showBookingCondition,y=Object(r.a)(e,["values","citizenshipsLoading","booking","fetching","touristsFetching","shoppingCartId","actions","showBookingCondition"]),k=Object(v.c)(o.b).t;Object(m.useEffect)((function(){h.saveFormValues(t)}),[t]);var O=Object(E.a)((function(){t.tourists&&h.setTourists({shoppingCartId:p,tourists:t.tourists})}),100),j=function(e){h.setSelectedVisas(Object(a.a)({shoppingCartId:p},e))},C=function(e){h.deleteSelectedVisas(Object(a.a)({shoppingCartId:p},e))},x=function(e){h.setSelectedMobileBiometrics(Object(a.a)({shoppingCartId:p},e))},N=function(e){h.deleteSelectedMobileBiometrics(Object(a.a)({shoppingCartId:p},e))},w=function(e,t){h.getTouristsDocumentTypes({countryIds:[e],touristId:t})},I=Object(m.useMemo)((function(){return t.tourists.reduce((function(e,t,n){t.index=n;var a=t.roomGroup?t.roomGroup.name+" (".concat(t.roomGroup.index,")"):"",r=e.find((function(e){return e.name===a}));return r?(r.tourists.push(t),e):(e.push({name:a,tourists:[t]}),e)}),[])}),[t.tourists]);return f.a.createElement(i.a,{title:k("Guests"),className:"dashboard basket-tourists"},s&&g&&f.a.createElement(ie,null),t.tourists&&f.a.createElement(d.c,{name:"tourists",render:function(e){return I.map((function(t,a){return f.a.createElement("div",{className:t.name?"":"m-t-10",key:t.name||a},t.name&&f.a.createElement(c.a,{className:"m-t-10",color:"dark",tag:"h2",bordered:!0},t.name),t.tourists.map((function(t){return f.a.createElement("div",{key:t.id,className:"basket-tourist-container"},f.a.createElement("div",{className:"basket-tourist-form"},f.a.createElement(re,Object.assign({},y,e,{onBirthdateChanged:O,onSelectVisa:j,onDeleteVisa:C,onSelectBiometry:x,onDeleteBiometry:N,getDocumentTypes:w,values:t,member:"tourists[".concat(t.index,"]"),booking:s,citizenshipsLoading:n}))),(u||(null===b||void 0===b?void 0:b.includes(t.id)))&&f.a.createElement(l.a,null))})))}))}}))}))},2099:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(139),o=n(258),i=n(14),c=n(0),l=n.n(c),s=n(17),u=n(9);function d(){var e=Object(a.a)(["\n  padding: 3rem 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  @media (max-width: 768px) {\n    padding: 1.5rem 1rem;\n  }\n  .presearch-card-image {\n    padding: 0;\n    width: 266px;\n    height: auto;\n    margin-bottom: 1rem;\n    font-size: 5rem;\n    color: ",";\n    @media (max-width: 768px) {\n      width: 166px;\n      font-size: 2rem;\n    }\n  }\n\n  .presearch-card-info {\n    h3 {\n      font-size: 1.5rem;\n      font-weight: normal;\n      color: ",";\n      @media (max-width: 768px) {\n        font-size: 1rem;\n      }\n    }\n    p {\n      font-weight: 300;\n    }\n  }\n  .presearch-actions {\n    margin-top: 1rem;\n  }\n"]);return d=function(){return e},e}var m=Object(u.e)("div")(d(),(function(e){return Object(i.c)(e.theme.colors.grey,.25)}),(function(e){return e.theme.colors.warning}));t.default=function(e){var t=e.title,n=e.description,a=e.actions,i=e.icon,c=Object(s.c)(o.g).t;return l.a.createElement(m,null,l.a.createElement("div",{className:"presearch-card-image"},l.a.createElement(r.a,{icon:"".concat(i||"search")})),l.a.createElement("div",{className:"presearch-card-info"},l.a.createElement("h3",null,t||c("Please use search")),l.a.createElement("p",null,n||c("A few simple steps to your perfect vacation.")),a&&l.a.createElement("div",{className:"presearch-actions"},a)))}},2109:function(e,t,n){"use strict";n.r(t),n.d(t,"BasketAgency",(function(){return l}));var a=n(0),r=n.n(a),o=n(2383),i=n(1035),c=n(2340),l=Object(i.b)((function(){return r.a.createElement(o.a,null,(function(e){return r.a.createElement(c.a,Object.assign({booking:!0},e))}))}))},2257:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(10),r=n(14);function o(){var e=Object(a.a)(["\n  position: relative;\n  .react-datepicker {\n    font-family: ",";\n    font-size: 0.875rem;\n    background-color: #fff;\n    color: #000;\n    border: ",";\n    border-radius: ",";\n    display: inline-block;\n    position: relative;\n    background-color: #fff;\n    border: 1px solid #ddd;\n    padding: 0;\n    background: #fff;\n    z-index: 1000;\n    border-radius: ",";\n    box-shadow: 1px 1px 12px rgba(0, 0, 0, 0.15),\n      inset 0px 0px 0px 1px ",";\n    .react-datepicker__triangle {\n      display: none;\n    }\n    .react-datepicker__header {\n      background-color: #ffffff;\n      border: none;\n      .react-datepicker__current-month--hasMonthDropdown {\n        padding: 0.375rem 0;\n      }\n      .react-datepicker__current-month,\n      .react-datepicker-time__header,\n      .react-datepicker-year-header {\n        font-size: 0.75rem;\n        text-align: center;\n        font-weight: 500;\n        text-transform: uppercase;\n        color: ",";\n        margin-bottom: 0.5rem;\n      }\n    }\n    .react-datepicker__day-names {\n      .react-datepicker__day-name {\n        text-transform: capitalize;\n        font-size: 0.75rem;\n        color: #8b9898;\n        width: 36px;\n      }\n    }\n    .react-datepicker__day,\n    .react-datepicker__month-text,\n    .react-datepicker__quarter-text {\n      font-size: 0.875rem;\n      line-height: 36px;\n      width: 36px;\n      height: 36px;\n\n      &.react-datepicker__day--outside-month {\n        color: ",";\n      }\n\n      &:hover {\n        &:not(.react-datepicker__day--keyboard-selected),\n        &:not(.react-datepicker__day--today) {\n          border-radius: ",";\n          background: ",";\n        }\n      }\n\n      &.react-datepicker__day--keyboard-selected {\n        color: #ffffff;\n        border-radius: ",";\n        background: ",";\n        &:hover {\n          background: ",";\n        }\n      }\n      &.react-datepicker__day--today {\n        color: #ffffff;\n        border-radius: ",";\n        background: ",";\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n\n  .react-datepicker-popper {\n    margin-top: 0 !important;\n    z-index: 10;\n  }\n  .react-datepicker__input-container {\n    width: 100%;\n    & > input {\n      width: 100%;\n      padding: 0 0.75rem;\n      border: 1px solid ",";\n      border-radius: ",";\n      outline: 0;\n      line-height: 38px;\n      height: 38px;\n      transition: border-color 150ms, box-shadow 150ms;\n      background: #ffffff;\n      &:disabled {\n        border-color: ",";\n        box-shadow: none;\n        background: ",";\n      }\n      &:hover {\n        border-color: ",";\n      }\n      &:focus {\n        border-color: ",";\n        box-shadow: 0 0 3px ",";\n      }\n    }\n  }\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .react-datepicker__navigation {\n    outline: none;\n    .react-datepicker__navigation--previous {\n      outline: none;\n    }\n    .react-datepicker__navigation--next {\n      outline: none;\n    }\n  }\n  .react-datepicker__header__dropdown--select {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 0.75rem;\n    .react-datepicker__month-dropdown-container--select {\n      flex: 1;\n    }\n    .react-datepicker__year-select {\n      flex: 0 0 30%;\n    }\n    .react-datepicker__month-select,\n    .react-datepicker__year-select {\n      width: 100%;\n      padding: 0.375rem 0.5rem;\n      border: 1px solid ",";\n      border-radius: ",";\n      transition: border-color 150ms, box-shadow 150ms;\n      &:hover {\n        border-color: ",";\n      }\n    }\n  }\n  .react-datepicker__close-icon {\n      &:after {\n        background: transparent;\n        bottom: 5px;\n        font-size: 20px;\n        color: ",";\n      }\n    }\n"]);return o=function(){return e},e}var i=n(9).e.div(o(),(function(e){return e.theme.font}),(function(e){return Object(r.c)(e.theme.colors.dark,.1)}),(function(e){return e.theme.border}),(function(e){return e.theme.radius}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.grey}),(function(e){return Object(r.c)(e.theme.colors.grey,.5)}),(function(e){return e.theme.radius}),(function(e){return Object(r.c)(e.theme.colors.secondary,.1)}),(function(e){return e.theme.radius}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.radius}),(function(e){return e.theme.colors.warning}),(function(e){return e.theme.colors.warning}),(function(e){return Object(r.b)(.75,e.theme.colors.dark)}),(function(e){return e.theme.radius}),(function(e){return Object(r.b)(.75,e.theme.colors.dark)}),(function(e){return Object(r.a)(.05,e.theme.colors.white)}),(function(e){return Object(r.c)(e.theme.colors.primary,.5)}),(function(e){return e.theme.colors.primary}),(function(e){return Object(r.c)(e.theme.colors.primary,.5)}),(function(e){return Object(r.b)(.75,e.theme.colors.dark)}),(function(e){return e.theme.radius}),(function(e){return Object(r.c)(e.theme.colors.primary,.5)}),(function(e){return e.theme.colors.danger}))},2260:function(e,t,n){},2262:function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"l",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return C})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return D}));var a=n(21),r=n(3),o=n(2261),i=n(33),c=function(e){return e.basketData.shoppingCart},l=function(e){return e.basketVisas.visaCenters},s=function(e){return e.basketTransfers.transfers},u=function(e){return e.basketTransfers.transferServices},d=Object(i.a)(l,(function(e){return e})),m=Object(i.a)((function(e){return e.basketVisas.mobileBiometrics}),(function(e){return e})),f=function(e){return e.basketData.fields},v=Object(i.a)(c,(function(e){return(null===e||void 0===e?void 0:e.services)?e.services.filter((function(e){return"Hotel"===e.type})).sort((function(e,t){return new Date(e.dateBegin).valueOf()-new Date(t.dateBegin).valueOf()})):[]})),b=Object(i.a)((function(e){return e.basketFlights.selectedFlights}),(function(e){return e.map((function(e){return Object(r.a)({},e)}))})),p=Object(i.a)([function(e){var t,n;return(null===(t=e.basketData)||void 0===t||null===(n=t.shoppingCart)||void 0===n?void 0:n.tourists)||[]},l,c],(function(e,t,n){return e.map((function(e){var a,o,i,c=t.find((function(t){return t.touristId===e.id}));return Object(r.a)({id:e.id,gender:"m",firstName:"",lastName:"",birthdate:"",citizenshipId:null,passport:"",pasportExpiration:"",pasportExpirationMin:new Date,visaCenter:c?null===(a=c.variants)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.id:null,biometry:null,visa:!1,isBiometry:!1,attributeIds:[],documentType:null,birthDateMax:e.birthDateMax,birthDateMin:e.birthDateMin,isTaxNumber:!!(null===(i=e.extraFields)||void 0===i?void 0:i.taxNumber),taxNumber:e.taxNumber||""},null===n||void 0===n?void 0:n.allowedActions,{roomGroup:e.roomGroup,order:e.order,age:e.age,ageType:e.ageType,editable:!0})})).sort((function(e,t){return t.order>e.order?-1:t.order<e.order?1:0}))})),h=Object(i.a)(u,s,(function(e,t){var n=e.map((function(e){var n=null===t||void 0===t?void 0:t.find((function(t){return t.serviceId===e.id}));return Object(r.a)({},e,{transfers:(null===n||void 0===n?void 0:n.variants)||[]})}));return n.some((function(e){return e.isFake}))&&n.some((function(e){return!e.transfers.length}))?[]:n})),g=Object(i.a)((function(e){return e.basketTransfers.selectedTransfers}),u,s,(function(e,t,n){return(null===e||void 0===e?void 0:e.length)?e:(null===t||void 0===t?void 0:t.length)&&n&&n.length?t.reduce((function(e,t){var r,o=n.find((function(e){return e.serviceId===t.id})),i=null;if(null===o||void 0===o||null===(r=o.variants)||void 0===r?void 0:r.length){var c=t.isFake?o.variants[0]:o.variants.find((function(e){return e.selected}));i=c?{serviceId:t.id,variantId:c.id}:null}return i?[].concat(Object(a.a)(e),[i]):e}),[]):[]})),E=Object(i.a)(c,(function(e){return e})),y=Object(i.a)([function(e){return e.basketPageData.offices}],(function(e){return e&&1===e.length?e[0].id:""})),k="context",O="tour",j="local",C=Object(i.a)([function(e){return e.basketData.price}],(function(e){var t,n,a,r,o,i;if(!e)return[];var c=null===(t=e.priceTotal)||void 0===t||null===(n=t.context)||void 0===n?void 0:n.currencyCode,l=null===(a=e.priceTotal)||void 0===a||null===(r=a.tour)||void 0===r?void 0:r.currencyCode,s=null===(o=e.priceTotal)||void 0===o||null===(i=o.local)||void 0===i?void 0:i.currencyCode;return c===l&&[{type:k,code:c},{type:j,code:s}],c!==s&&s!==l||[{type:k,code:c},{type:O,code:l}],[{type:k,code:c},{type:j,code:s},{type:O,code:l}].reduce((function(e,t){return e.some((function(e){return e.code===t.code}))?e:e.concat([t])}),[])})),x=Object(i.a)((function(e){var t;return(null===(t=e.basketData.formValues)||void 0===t?void 0:t.tourists)||[]}),(function(e){return Object(a.a)(e).sort((function(e,t){return t.id<e.id?-1:t.id>e.id?1:0}))})),N=function(e,t,n){var a={id:o.string().required(""),visaCenter:o.string().when("visa",{is:!0,then:o.string().nullable().required(e("required")),otherwise:o.string().nullable()}),visa:o.boolean(),isBiometry:o.boolean(),biomentry:o.string(),mobileBiometric:o.string().nullable(),attributeIds:o.array(),isTaxNumber:o.boolean(),taxNumber:o.string().when("isTaxNumber",{is:!0,then:o.string().nullable().required(e("required")),otherwise:o.string().nullable()})};return n.forEach((function(t){a[t.code]=t.required?o[t.type]().nullable().required(e("required")):o[t.type]().nullable()})),o.array().of(o.object().shape(a))},w=function(e,t){return t},I=Object(i.a)([w,f],(function(e,t){return function(e,t,n){return o.object().shape({tourists:N(e,0,n),officeId:o.string().nullable().required(e("required")),agree:o.boolean().oneOf([!0],e("required")),userAgreement:o.boolean().oneOf([!0],e("required")),emergencyPhone:o.string().nullable().required(e("required")),comment:o.string().nullable(),isPrebooking:o.bool(),officeDisabled:o.bool()})}(e.t,e.theme,t)})),D=Object(i.a)([w,f],(function(e,t){return N(e.t,e.theme,t)}))},2266:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));n(4),n(115),n(3),n(23);var a=n(0),r=n.n(a),o=(n(2212),n(340),{user:{isAuthenticated:!1,isAgency:!1,roles:[],username:null},onSetUser:function(){},onResetUser:function(){},onLogin:function(){return Promise.resolve()},onLogout:function(){return Promise.resolve()}}),i=r.a.createContext(o),c=i.Consumer,l=function(){return Object(a.useContext)(i)}},2273:function(e,t,n){},2277:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var a=n(0),r=n.n(a),o=n(2214),i=n(79),c=n.n(i),l=n(2274),s=n(1038),u=function(){return!Object(o.a)((function(e){return e.basketActualization.error}))},d=function(e){var t=e.onSubmit,n=e.timer,o=e.book,i=u();return r.a.createElement(c.a,{query:"(max-width: 991px)"},(function(e){return e?r.a.createElement(a.Fragment,null,r.a.createElement(s.a,{submitAllowed:i,isValid:!0,submitForm:t,timer:n,book:o})):r.a.createElement(l.Sticky,{bottomOffset:24,topOffset:50},(function(e){var a=e.style;return r.a.createElement("div",{style:a},r.a.createElement(s.a,{submitAllowed:i,isValid:!0,submitForm:t,timer:n,book:o}))}))}))},m=function(){var e=u();return r.a.createElement(c.a,{query:"(max-width: 991px)"},(function(t){return t?r.a.createElement(a.Fragment,null,r.a.createElement(s.a,{submitAllowed:e,isValid:!0})):r.a.createElement(l.Sticky,{bottomOffset:24,topOffset:50},(function(t){var n=t.style;return r.a.createElement("div",{style:n},r.a.createElement(s.a,{submitAllowed:e,isValid:!0}))}))}))}},2278:function(e,t,n){},2279:function(e,t,n){"use strict";var a=n(57),r=n(10),o=n(14),i=n(0),c=n.n(i),l=n(9),s=n(32);function u(){var e=Object(r.a)(["\n  color: ",";\n  font-size: ",";\n  margin: 0;\n  margin-bottom: ",";\n  font-weight: ",";\n  padding: 0;\n  padding-bottom: ",";\n  border-bottom: ",";\n  text-transform: ",";\n"]);return u=function(){return e},e}var d=Object(l.e)((function(e){var t=e.tag,n=void 0===t?"h2":t,r=(e.bold,e.children),o=(e.uppercase,e.capitalize,e.color,e.bordered,e.className,Object(a.a)(e,["tag","bold","children","uppercase","capitalize","color","bordered","className"]));return c.a.createElement(n,o,r)}))(u(),s.b,s.d,(function(e){return e.bordered?"0.75rem":"0"}),(function(e){return e.bold?"500":"400"}),(function(e){return e.bordered?".75rem":"0"}),(function(e){return e.bordered?"1px solid "+Object(o.c)(Object(s.b)(e),.1):"none"}),(function(e){return e.capitalize?"capitalize":e.uppercase?"uppercase":"none"}));d.defaultProps={color:"dark",bordered:!0};t.a=function(e){var t=Object.create(null),n=function(n){var a=n.tag;return"string"===typeof a&&l.e.hasOwnProperty(a)?(void 0===t[a]&&(t[a]=e.withComponent(a)),Object(i.createElement)(t[a],n)):Object(i.createElement)(e,n)};return(e.displayName||e.constructor.name)&&(n.displayName="Heading"),n}(d)},2280:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a=n(21),r=n(258),o=n(2230),i=n(2107),c=n(2215),l=n(0),s=n.n(l),u=n(17),d=n(79),m=n.n(d),f=n(2213),v=n(2214),b=n(8),p=n(2262),h=n(10),g=n(2232),E=n(2220),y=n(2098),k=n(9),O=n(340),j=n(1035);n(2293);function C(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  background-color: #f0f0f7;\n  padding: 0.5rem 0.75rem;\n  border-radius: 4px;\n  "," {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  @media (max-width: 768px) {\n    display: block;\n  }\n  &:last-child {\n    margin-bottom: 0;\n  }\n  .transfer-info {\n    flex: 1;\n    padding-right: 1rem;\n    @media (max-width: 768px) {\n      margin-bottom: 0.5rem;\n    }\n    .transfer-info-name {\n      font-weight: 500;\n    }\n    .transfer-info-date {\n      font-size: 0.75rem;\n    }\n  }\n  .transfer-selecting {\n    flex: 0 0 35%;\n  }\n"]);return C=function(){return e},e}function x(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .selected-transfere-price {\n    margin: 0 1rem;\n  }\n"]);return x=function(){return e},e}var N=function(e){var t=e.transfer,n=void 0===t?null:t,a=e.selectedValues,o=void 0===a?[]:a,i=e.readOnly,c=void 0!==i&&i,d=e.onChange,m=Object(l.useContext)(j.a),f=m.activeCurrency,v=m.extractPrice,b=Object(u.c)(r.b).t,p=Object(l.useMemo)((function(){return o.find((function(e){return e.serviceId===n.id}))}),[n,o]),h=Object(l.useMemo)((function(){return function(e){var t;return(null===e||void 0===e||null===(t=e.transfers)||void 0===t?void 0:t.length)?e.transfers.map((function(t){var n=v(t.price,"sum");return{label:s.a.createElement(w,null,s.a.createElement("span",null,"#NO_TRANSFER"===t.name?b("Service not selected"):t.name),n>0?s.a.createElement("span",{className:"selected-transfere-price"},"".concat(n>0?"+":"").concat(Object(O.b)(n))," ",s.a.createElement(g.a,{size:12,currencyCode:null===f||void 0===f?void 0:f.code})):s.a.createElement("span",{className:"selected-transfere-price"})),value:{serviceId:e.id,variantId:t.id},serviceId:e.id,variantId:t.id,name:t.name,price:t.addPrice}})):[]}(n)}),[n,f]),k=Object(E.b)(n.dateBegin);return s.a.createElement(I,null,s.a.createElement("div",{className:"transfer-info"},s.a.createElement("div",{className:"transfer-info-name"},n.subService&&n.subService.name),s.a.createElement("div",{className:"transfer-info-date"},k," "," / ","".concat(n.touristCount," ").concat(b("people"),"."))),h&&h.length>0&&s.a.createElement("div",{className:"transfer-selecting"},s.a.createElement(y.b,{disabled:c,clearable:!1,valueKey:"variantId",value:null===p||void 0===p?void 0:p.variantId,onChange:function(e){var t=h.find((function(t){return t.variantId===e}));t&&(null===d||void 0===d||d(t.value))},options:h})))},w=k.e.div(x()),I=k.e.div(C(),w),D=function(e){var t=e.readOnly,n=void 0!==t&&t,l=Object(f.a)(b.basketTransfersActions).actions,d=Object(v.a)((function(e){return{transfers:Object(p.m)(e),fetching:e.basketTransfers.fetching,selectedTransfers:Object(p.k)(e),shoppingCartId:e.basketData.shoppingCartId}})),h=d.transfers,g=d.fetching,E=d.selectedTransfers,y=d.shoppingCartId,k=Object(u.c)(r.b).t,O=function(e){var t=[].concat(Object(a.a)(E.filter((function(t){return t.serviceId!==e.serviceId}))),[e]);l.setTransfers({shoppingCartId:y,selectedVariants:t})};return s.a.createElement(m.a,{query:"(max-width: 991px)"},(function(e){return e?h.length>0&&!g?s.a.createElement("div",{className:"transfer-mobile basket-mobile-block"},s.a.createElement("div",{className:"basket-mobile-block-title"},k("Transfers")),h.map((function(e){return s.a.createElement(N,{key:e.id,transfer:e,selectedValues:E,onChange:O,readOnly:n})}))):g&&s.a.createElement(o.a,{description:k("Please wait. Loading order information")}):s.a.createElement("div",{className:"transfer-container"},h.length>0&&s.a.createElement(i.a,{className:"dashboard",title:s.a.createElement("div",null,k("Transfers"))},h.map((function(e){return s.a.createElement(N,{key:e.id,transfer:e,selectedValues:E,onChange:O,readOnly:n})}))),g&&s.a.createElement(c.a,null))}))}},2293:function(e,t,n){},2294:function(e,t,n){},2304:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(793),i=n(106),c=function(e){var t=e.value,n=e.label,a=e.active,o=e.color,c=e.onClick,l=e.disabled;return r.a.createElement(i.c,{outline:!0,selected:t===a,size:"md",onClick:function(){null===c||void 0===c||c(t)},color:o,disabled:l},n)};t.a=function(e){var t=e.color,n=void 0===t?"primary":t,a=e.field,i=e.form,l=e.options,s=e.active,u=e.disabled,d=function(e){i.setFieldValue(a.name,e)};return r.a.createElement(o.a,null,null===l||void 0===l?void 0:l.map((function(e){return r.a.createElement(c,{key:e.value,active:s,color:n,value:e.value,label:e.label,onClick:d,disabled:u})})))}},2305:function(e,t,n){"use strict";var a=n(57),r=n(2246),o=n(0),i=n.n(o),c=n(349),l=n.n(c),s=n(189),u=n(264),d=n(2327),m=i.a.forwardRef((function(e,t){var n=e.label,c=e.placeholder,m=e.type,f=e.disabled,v=e.field,b=e.form,p=e.mask,h=e.selectAllOnFocus,g=e.forwardFocusRef,E=Object(a.a)(e,["label","placeholder","type","disabled","field","form","mask","selectAllOnFocus","forwardFocusRef"]),y=Object(o.useRef)(null),k=function(e){var t,n;null===y||void 0===y||null===(t=y.current)||void 0===t||null===(n=t.setFocused)||void 0===n||n.call(t,!0),h&&e.target.select(),E.onFocus&&E.onFocus(e)},O=function(e){var t,n;null===y||void 0===y||null===(t=y.current)||void 0===t||null===(n=t.setFocused)||void 0===n||n.call(t,!1),E.onBlur&&E.onBlur(e),(null===b||void 0===b?void 0:b.handleBlur)&&b.handleBlur(e)},j=Object(r.f)(b.errors,v.name),C=Object(r.f)(b.touched,v.name);return i.a.createElement(s.a,null,n&&i.a.createElement(u.a,null,n),i.a.createElement("div",{className:"input-container"},p?i.a.createElement(l.a,Object.assign({},E,v,{mask:p,value:v.value,placeholder:c,disabled:f,type:m||"text",ref:t,render:function(e,t){return i.a.createElement("input",Object.assign({ref:function(t){var n;(n=t)&&(null===g||void 0===g||g(v.name,n.focus)),null===e||void 0===e||e(t)}},t,{className:C&&j&&"tourist-input-error"}))},onFocus:k,onBlur:O})):i.a.createElement("input",Object.assign({},E,v,{className:C&&j&&"tourist-input-error",value:v.value,placeholder:c,disabled:f,type:m||"text",ref:function(e){var n;(n=e)&&(null===g||void 0===g||g(v.name,n.focus.bind?n.focus.bind(n):n.focus)),null===t||void 0===t||t(e)},onFocus:k,onBlur:O}))),i.a.createElement(d.a,{error:j,touched:C,ref:y}))}));t.a=m},2306:function(e,t,n){"use strict";var a=n(3),r=n(57),o=n(2246),i=n(0),c=n.n(i),l=n(2265),s=n.n(l),u=n(264),d=(n(2264),n(349)),m=n.n(d),f=n(2257),v=n(2327),b=c.a.forwardRef((function(e,t){var n=e.placeholder,l=void 0===n?"":n,d=e.disabled,b=void 0!==d&&d,p=(e.format,e.clearable),h=void 0!==p&&p,g=e.year,E=void 0!==g&&g,y=e.field,k=e.mask,O=void 0===k?null:k,j=e.label,C=e.form,x=e.forwardFocusRef,N=e.minDate,w=e.maxDate,I=e.locale,D=Object(r.a)(e,["placeholder","disabled","format","clearable","year","field","mask","label","form","forwardFocusRef","minDate","maxDate","locale"]),T=Object(i.useRef)(null);Object(i.useImperativeHandle)(t,(function(){return Object(a.a)({},T.current||{})}));var F=function(e){e&&(null===x||void 0===x||x(y.name,e.focus.bind(e)))},R=Object(o.f)(C.errors,y.name),A=Object(o.f)(C.touched,y.name);return c.a.createElement(f.a,null,j&&c.a.createElement(u.a,{className:A&&R&&"tourist-error"},j),c.a.createElement(s.a,Object.assign({},D,{locale:I,onKeyDown:function(e){var t,n;"Tab"===e.key&&(null===(t=T.current)||void 0===t||null===(n=t.setOpen)||void 0===n||n.call(t,!1))},minDate:N,maxDate:w,placeholderText:l,isClearable:h,disabled:b,dateFormat:"dd.MM.yyyy",selected:y.value?new Date(y.value):void 0,onChange:function(e){var t;C.setFieldValue(y.name,e),null===(t=D.onChange)||void 0===t||t.call(D,e)},peekNextMonth:E,showMonthDropdown:E,showYearDropdown:E,dropdownMode:E?"select":void 0,ref:T,customInput:O?c.a.createElement(m.a,{mask:O,render:function(e,t){return c.a.createElement("input",Object.assign({ref:function(t){null===e||void 0===e||e(t),null===F||void 0===F||F(t)}},t,{className:A&&R&&"tourist-input-error"}))}}):void 0})),c.a.createElement(v.a,{error:R,touched:A}))}));t.a=b},2309:function(e,t,n){"use strict";var a=n(2246),r=n(0),o=n.n(r),i=n(56),c=n(789),l=n(264),s=n(254),u=n(2098),d=n(2327),m=o.a.forwardRef((function(e,t){var n=e.label,m=e.pluginBefore,f=e.pluginAfter,v=e.field,b=e.form,p=e.loading,h=e.className,g=e.forwardFocusRef,E=e.style,y=e.placeholder,k=e.valueKey,O=void 0===k?"value":k,j=e.labelKey,C=void 0===j?"label":j,x=e.tabIndex,N=e.clearable,w=e.onChange,I=e.disabled,D=e.optionRenderer,T=e.options,F=Object(r.useRef)(null),R=function(e){e&&(null===g||void 0===g||g(v.name,e.focus.bind(e)))},A=Object(r.useMemo)((function(){return Array.isArray(T)?T.find((function(e){return e[O]===v.value})):void 0}),[v.value,T]),P=Object(a.f)(b.errors,v.name),B=Object(a.f)(b.touched,v.name);return o.a.createElement(u.a,{className:"select-formik ".concat(h||"").trim(),style:E},n&&o.a.createElement(l.a,null,n),o.a.createElement("div",{className:"select-container ".concat(B&&P?"tourist-input-error":"").trim()},m&&m,o.a.createElement(c.a,{onFocus:function(){var e,t;null===(e=F.current)||void 0===e||null===(t=e.setFocused)||void 0===t||t.call(e,!0)},onBlur:function(e){var t,n,a;null===(t=F.current)||void 0===t||null===(n=t.setFocused)||void 0===n||n.call(t,!1),null===b||void 0===b||null===(a=b.setFieldTouched)||void 0===a||a.call(b,null===v||void 0===v?void 0:v.name,!0)},options:T,placeholder:y,onChange:function(e){b.setFieldValue(v.name,e[O]),null===w||void 0===w||w(e[O])},id:v.name,isLoading:p,value:A,getOptionValue:function(e){return e[O]},getOptionLabel:function(e){return e[C]},tabIndex:x,isClearable:N,isDisabled:I,components:{Option:function(e){return o.a.createElement(i.z.Option,e,D?D(e):e.children)},LoadingIndicator:function(){return o.a.createElement(s.a,{style:{marginRight:"0.5rem"},size:16})}},ref:function(e){null===t||void 0===t||t(e),null===R||void 0===R||R(e)}}),f&&f),o.a.createElement(d.a,{touched:B,error:P,ref:F}))}));t.a=m},2326:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(139),i=n(10),c=n(14),l=n(9),s=n(32);function u(){var e=Object(i.a)(["\n  position: relative;\n  font-size: 0.875rem;\n  padding: 0.5rem 1.5rem 0.5rem 0.75rem;\n  border: 1px solid;\n  margin-bottom: 1rem;\n  border-radius: ",";\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n  &.small {\n    font-size: 0.75rem;\n    padding: 0.375rem 1rem 0.375rem 0.5rem;\n  }\n  .icon-close {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    cursor: pointer;\n    border-radius: 100%;\n    padding: 0;\n  }\n"]);return u=function(){return e},e}var d=l.e.div(u(),(function(e){return e.theme.radius}),(function(e){return e.color?Object(c.b)(.35,Object(s.b)(e)):Object(c.c)(e.theme.colors.light,1)}),(function(e){return e.color?Object(c.b)(.3,Object(s.b)(e)):Object(c.a)(.05,e.theme.colors.light)}),(function(e){return Object(c.a)(.1,Object(s.b)(e))})),m=function(e){var t=e.color,n=e.children,a=e.dismissable,i=e.onClose,c=e.small,l=e.className;return r.a.createElement(d,{color:t,"data-component":"alert",className:"alert ".concat(l||""," ").concat(c?"small":"").trim()},n,a&&r.a.createElement("span",{className:"icon-close",onClick:i},r.a.createElement(o.a,{icon:"times-circle"})))};m.defaultProps={color:"warning"};t.a=m},2327:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(23),r=n(0),o=n.n(r),i=n(10);function c(){var e=Object(i.a)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n  margin-top: 5px;\n  padding: 0.125rem 0.25rem;\n  background: ",";\n  color: #fff;\n  border: 1px solid ",';\n  font-size: 0.75rem;\n  border-radius: 0.125rem;\n  z-index: 1;\n  line-height: 1;\n  &:before {\n    position: absolute;\n    left: 5px;\n    top: -5px;\n    width: 0;\n    height: 0;\n    content: "";\n    z-index: 2;\n    border-bottom: 5px solid ',";\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n  }\n"]);return c=function(){return e},e}var l=n(9).e.span(c(),(function(e){return e.theme.colors.danger}),(function(e){return e.theme.colors.danger}),(function(e){return e.theme.colors.danger})),s=o.a.forwardRef((function(e,t){var n=e.error,i=e.touched,c=Object(r.useState)(!1),s=Object(a.a)(c,2),u=s[0],d=s[1],m=function(e){return function(){d(e)}};return Object(r.useImperativeHandle)(t,(function(){return{setFocused:d}})),i&&n&&!u?o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(l,{onMouseLeave:m(!1),onMouseEnter:m(!0)},n)):null}))},2332:function(e,t,n){"use strict";var a=n(139),r=n(2246),o=n(0),i=n.n(o),c=n(794),l=i.a.forwardRef((function(e,t){var n=e.className,l=void 0===n?"":n,s=e.label,u=void 0===s?"":s,d=e.disabled,m=e.field,f=e.onChange,v=e.checkIcon,b=void 0===v?"check-square":v,p=e.uncheckIcon,h=void 0===p?"square":p,g=e.tabIndex;return i.a.createElement(o.Fragment,null,i.a.createElement(c.a,{tabIndex:g,className:"checkbox ".concat(l||""," ").concat(m.value?"checked":"").trim()},i.a.createElement("input",Object.assign({ref:t,type:"checkbox",disabled:d,checked:m.value,onClick:f},m)),i.a.createElement(a.a,{className:"checkbox-icon",icon:m.value?b:h}),u&&i.a.createElement("span",{className:"checkbox-label"},u)),i.a.createElement(r.a,{name:m.name},(function(e){return i.a.createElement("div",{className:"small red"},e)})))}));t.a=l},2335:function(e,t,n){},2336:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2215),r=n(0),o=n.n(r),i=n(39),c=function(){return Object(i.useSelector)((function(e){return e.basketData.fetching||e.basketData.booking||e.basketVisas.changing||e.basketInsurance.fetching||e.basketAccommodation.showModal}),i.shallowEqual)?o.a.createElement(a.a,null):null}},2337:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(23),r=n(0),o=n.n(r),i=n(795),c=n(2228),l=function(e){var t=e.defaultValue,n=e.onChange,l=e.options,s=e.className,u=e.disabled,d=e.valueKey,m=void 0===d?"value":d,f=e.labelKey,v=void 0===f?"label":f,b=Object(r.useState)({selected:t||null}),p=Object(a.a)(b,2),h=p[0],g=p[1],E=function(e){g({selected:e}),null===n||void 0===n||n(e)};return o.a.createElement(i.b,{className:"".concat(s||"")},l.map((function(e,t){return o.a.createElement(c.a,{disabled:u,key:t,className:e.className||"",label:e[v],value:e[m],checked:e[m]===h.selected,onChange:E})})))}},2340:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a=n(4),r=n.n(a),o=n(115),i=n(57),c=n(2246),l=n(0),s=n.n(l),u=n(2384),d=n(2368),m=n(2413),f=n(2221),v=n(2223),b=n(2224),p=n(125),h=n(1116),g=n(2095),E=n(2280),y=n(793),k=n(106),O=n(39),j=n(17),C=n(258),x=n(1036),N=function(e){var t=e.onBook,n=e.onPreBook,a=Object(l.useContext)(x.a),r=Object(j.c)(C.b).t,o=Object(O.useSelector)((function(e){return{basketData:e.basketData,basketPageData:e.basketPageData,actualizationError:e.basketActualization.error}}),O.shallowEqual),i=o.basketData,c=o.basketPageData,m=o.actualizationError,v=(null===c||void 0===c?void 0:c.bookingBlockedByCause)&&c.bookingBlockedByCause.length>0,b=!m;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{allowedRoles:u.a.ALL},i.shoppingCartId&&s.a.createElement("div",{className:"basket-navigation"},s.a.createElement("div",{className:"basket-navigation--controls"},s.a.createElement("div",null),s.a.createElement(y.b,{segmented:!0,align:"flex-end"},i.shoppingCart&&i.shoppingCart.allowPrebooking&&s.a.createElement(f.a,{themes:f.b.mouzenidis},s.a.createElement(k.c,{color:"default",tabIndex:a.prebooking,disabled:!(b&&!v)||i.expired,onClick:n},r("Pre booking"))),s.a.createElement(k.c,{tabIndex:a.booking,color:"warning",disabled:!(b&&!v)||i.expired,onClick:t},r("Book")))))))},w=n(2336),I=n(2277),D=n(792),T=n(1037),F=Object(T.a)((function(e){var t,n,a,l,y=e.basketData,k=e.booking,O=e.attributes,j=e.submitForm,C=e.auth,x=e.authorize,T=Object(i.a)(e,["basketData","booking","attributes","submitForm","auth","authorize"]),F=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.user.isAuthenticated){e.next=7;break}return T.setFieldValue("isPrebooking",!1),e.next=4,Promise.resolve();case 4:j(),e.next=8;break;case 7:x({source:"booking"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.user.isAuthenticated){e.next=7;break}return T.setFieldValue("isPrebooking",!0),e.next=4,Promise.resolve();case 4:j(),e.next=8;break;case 7:x({source:"booking"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(c.d,null,s.a.createElement(v.a,null,s.a.createElement(b.a,{lg:9},s.a.createElement(f.a,{themes:f.b.mouzenidis},s.a.createElement(p.e,null),s.a.createElement(D.a,null)),s.a.createElement(p.d,null),s.a.createElement(p.c,null),s.a.createElement(E.a,{readOnly:!(null===y||void 0===y||null===(t=y.shoppingCart)||void 0===t||null===(n=t.allowedActions)||void 0===n?void 0:n.editTransfers)}),s.a.createElement(g.default,Object.assign({},T,{agency:!0,collapsible:!0,booking:k,attributes:O})),s.a.createElement(d.a,{allowedRoles:[u.a.AGENCY]},y.shoppingCartId&&s.a.createElement(p.b,{tourists:T.values.tourists,readonly:!(null===y||void 0===y||null===(a=y.shoppingCart)||void 0===a||null===(l=a.allowedActions)||void 0===l?void 0:l.editExtraServices)})),s.a.createElement(p.a,T),s.a.createElement(d.a,{allowedRoles:[u.a.AGENCY,u.a.TOURIST],notAllowed:s.a.createElement(m.a,null)},y.shoppingCartId&&s.a.createElement(h.a,T)),s.a.createElement(N,{onBook:F,onPreBook:R}),s.a.createElement(w.a,null)),s.a.createElement(b.a,{lg:3},s.a.createElement(I.b,{onSubmit:j}))))}))},2367:function(e,t,n){},2368:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(2266),i=function(e){var t=e.allowedRoles,n=e.unallowedRoles,a=e.children,i=e.notAllowed,c=void 0===i?null:i;return r.a.createElement(o.a,null,(function(e){var r=e.user;if(!r.isAuthenticated&&t)return c;if(!r.isAuthenticated&&!t)return a;if(t&&t.length>0){var o=!1;if(t.forEach((function(e){r.roles&&r.roles.length>0&&r.roles.includes(e)&&(o=!0)})),(null===n||void 0===n?void 0:n.length)&&n.forEach((function(e){r.roles&&r.roles.length>0&&r.roles.includes(e)&&(o=!1)})),!o)return c}return a}))}},2369:function(e,t,n){},2370:function(e,t,n){"use strict";var a=n(10),r=n(57),o=n(14),i=n(0),c=n.n(i),l=n(9),s=n(264);function u(){var e=Object(a.a)(["\n  textarea {\n    position: relative;\n    display: flex;\n    width: 100%;\n    padding: 0.5rem 0.75rem;\n    border: 1px solid ",";\n    border-radius: ",";\n    outline: 0;\n    transition: border-color 150ms, box-shadow 150ms;\n    justify-content: space-between;\n    align-items: center;\n    background: #ffffff;\n    &:hover {\n      border-color: ",";\n    }\n    &:focus {\n      border-color: ",";\n      box-shadow: 0 0 3px ",";\n    }\n  }\n"]);return u=function(){return e},e}var d=l.e.div(u(),(function(e){return Object(o.b)(.75,e.theme.colors.dark)}),(function(e){return e.theme.radius}),(function(e){return Object(o.c)(e.theme.colors.primary,.5)}),(function(e){return e.theme.colors.primary}),(function(e){return Object(o.c)(e.theme.colors.primary,.5)}));t.a=function(e){var t=e.className,n=e.label,a=e.onChange,o=e.value,i=e.name,l=e.rows,u=e.tabIndex,m=e.required,f=e.placeholder,v=Object(r.a)(e,["className","label","onChange","value","name","rows","tabIndex","required","placeholder"]);return c.a.createElement(d,{className:"".concat(t||"").trim()},n&&c.a.createElement(s.a,null,n),c.a.createElement("textarea",Object.assign({},v,{placeholder:f||"",tabIndex:u,rows:l||3,name:i,required:m,className:"textarea",value:o,onChange:function(e){var t;null===e||void 0===e||null===(t=e.persist)||void 0===t||t.call(e),null===a||void 0===a||a(e)}})))}},2383:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(23),r=n(3),o=n(258),i=n(2262),c=n(8),l=n(2222),s=n(2279),u=n(2214),d=n(2213),m=n(2210),f=n(2088),v=n(2246),b=n(0),p=n.n(b),h=n(17),g=n(147),E=n(2274),y=n(9),k=n(1036),O=n(1040),j=(n(2340),n(2107)),C=n(106),x=n(2090),N=n(2099),w=function(){var e=Object(h.c)(o.b).t;return p.a.createElement("div",{className:"error-basket"},p.a.createElement(l.a,null,p.a.createElement(j.a,{className:"dashboard"},p.a.createElement(N.default,{title:e("Sorry, this page expired"),description:e("Either something went wrong or the page doesn't exist anymore"),actions:p.a.createElement(C.c,{tag:"a",color:"warning",href:Object(x.a)("/online/account/home")},e("Home"))}))))},I=(n(2273),function(e){var t,n=e.children,j=Object(h.c)(o.b).t,C=Object(d.a)(c.basketActions).actions,x=function(){var e=Object(y.g)(),t=Object(h.c)(o.b).t;return Object(u.a)((function(n){return{basketData:n.basketData,tourCode:n.basketData.tourCode,initialValues:Object(i.g)(n),attributes:n.basketPageData.touristAttributes,auth:n.auth,offices:n.basketPageData.offices,defaultOffice:Object(i.i)(n),validationSchema:Object(i.b)(n,{t:t,theme:e.name}),touristsValidationSchema:Object(i.a)(n,{t:t,theme:e.name}),formValues:n.basketData.formValues}}))}(),N=Object(b.useRef)(null),I=function(){var e,t,n,a,o,i;return{tourists:null===(e=x.initialValues)||void 0===e?void 0:e.map((function(e){var t,n,a,o=null===(t=N.current)||void 0===t||null===(n=t.values)||void 0===n||null===(a=n.tourists)||void 0===a?void 0:a.find((function(t){return t.id===e.id}));return o?Object(r.a)({},o,{visaCenter:e.visaCenter,roomGroup:e.roomGroup,birthDateMax:e.birthDateMax,birthDateMin:e.birthDateMin}):e})),officeId:x.defaultOffice,agree:!1,userAgreement:!1,emergencyPhone:(null===(t=x.auth)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.isAgency)?"":(null===(a=x.auth)||void 0===a||null===(o=a.user)||void 0===o?void 0:o.phone)||"",comment:"",isPrebooking:!1,officeDisabled:1===(null===(i=x.offices)||void 0===i?void 0:i.length)}},D=function(){var e,t,n,a,o,i,c,l,s,u,d,f,v,b,p,h,g,E,y=new m.a,k=null===(e=x.basketData.shoppingCart)||void 0===e||null===(t=e.services)||void 0===t?void 0:t.find((function(e){return"Hotel"===e.type})),O=null===k||void 0===k||null===(n=k.subService)||void 0===n?void 0:n.hotel;y.pushCheckoutAuthorized(null===(a=x.basketData.shoppingCart)||void 0===a||null===(o=a.tour)||void 0===o||null===(i=o.country)||void 0===i?void 0:i.name,{name:null===(c=x.basketData)||void 0===c||null===(l=c.shoppingCart)||void 0===l||null===(s=l.tour)||void 0===s?void 0:s.name,id:null===(u=x.basketData)||void 0===u||null===(d=u.shoppingCart)||void 0===d||null===(f=d.tour)||void 0===f?void 0:f.id,price:null===(v=x.basketData)||void 0===v||null===(b=v.shoppingCart)||void 0===b||null===(p=b.price)||void 0===p||null===(h=p.priceToPay)||void 0===h||null===(g=h.context)||void 0===g?void 0:g.sum,category:null===O||void 0===O||null===(E=O.city)||void 0===E?void 0:E.name,brand:null===O||void 0===O?void 0:O.name}),P((function(e){return Object(r.a)({},e,{gtmPushed3:!0})}))};Object(b.useEffect)((function(){var e;if(x.auth.justAuthorized&&(null===(e=x.auth.user)||void 0===e?void 0:e.isAuthenticated)){var t,n,a=null===(t=N.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.tourists;x.touristsValidationSchema.validate(a).then((function(){D()}))}}),[]);var T=Object(f.a)((function(){var e,t,n,a=null===(e=N.current)||void 0===e||null===(t=e.values)||void 0===t?void 0:t.tourists;a&&(null===(n=N.current)||void 0===n?void 0:n.dirty)&&!A.gtmPushed2&&x.touristsValidationSchema.validate(a).then((function(){var e,t,n,a,o,i,c,l,s,u,d,f,v,b,p,h,g,E,y,k=new m.a,O=null===(e=x.basketData.shoppingCart)||void 0===e||null===(t=e.services)||void 0===t?void 0:t.find((function(e){return"Hotel"===e.type})),j=null===O||void 0===O||null===(n=O.subService)||void 0===n?void 0:n.hotel;k.pushCheckoutFilled(null===(a=x.basketData.shoppingCart)||void 0===a||null===(o=a.tour)||void 0===o||null===(i=o.country)||void 0===i?void 0:i.name,{name:null===(c=x.basketData)||void 0===c||null===(l=c.shoppingCart)||void 0===l||null===(s=l.tour)||void 0===s?void 0:s.name,id:null===(u=x.basketData)||void 0===u||null===(d=u.shoppingCart)||void 0===d||null===(f=d.tour)||void 0===f?void 0:f.id,price:null===(v=x.basketData)||void 0===v||null===(b=v.shoppingCart)||void 0===b||null===(p=b.price)||void 0===p||null===(h=p.priceToPay)||void 0===h||null===(g=h.context)||void 0===g?void 0:g.sum,category:null===j||void 0===j||null===(E=j.city)||void 0===E?void 0:E.name,brand:null===j||void 0===j?void 0:j.name}),P((function(e){return Object(r.a)({},e,{gtmPushed2:!0})})),(null===(y=x.auth.user)||void 0===y?void 0:y.isAuthenticated)&&!A.gtmPushed3&&D()})).catch((function(){}))}),100),F=Object(b.useState)((function(){var e=x.formValues||I();return{initialValues:e,tabIndexes:Object(O.a)(e),gtmPushed2:!1,gtmPushed3:!1}})),R=Object(a.a)(F,2),A=R[0],P=R[1];return Object(b.useEffect)((function(){P((function(e){var t=I();return Object(r.a)({},e,{initialValues:t,tabIndexes:Object(O.a)(t)})}))}),[null===(t=x.auth.user)||void 0===t?void 0:t.isAuthenticated,x.offices,x.defaultOffice,x.initialValues]),p.a.createElement(k.b,{value:A.tabIndexes},p.a.createElement("div",{className:"basket-page"},p.a.createElement(g.Element,{name:"basket-page"},p.a.createElement(E.StickyContainer,null,x.tourCode?p.a.createElement(l.a,null,p.a.createElement("div",{className:"basket-title"},p.a.createElement(s.a,{tag:"h1",color:"dark",bordered:!0},j("booking"))),p.a.createElement(v.e,{initialValues:A.initialValues,enableReinitialize:!0,onSubmit:function(e){C.bookOrder({shoppingCartId:x.basketData.shoppingCartId,values:e,comment:e.comment})},validationSchema:x.validationSchema},(function(e){return N.current=e,T(),null===n||void 0===n?void 0:n(Object(r.a)({},x,{},C,{},e))}))):p.a.createElement(w,null)))))})},2384:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"TOURIST",(function(){return r})),n.d(a,"AGENCY",(function(){return o})),n.d(a,"EMPLOYEE",(function(){return i})),n.d(a,"READONLY",(function(){return c})),n.d(a,"DIRECT_PARTNER",(function(){return l})),n.d(a,"ALL",(function(){return s}));var r="Tourist",o="Agent",i="Employee",c="ReadOnly",l="DirectPartner",s=[r,o,i,c,l]},2413:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(10),r=n(139),o=n(258),i=n(2279),c=n(793),l=n(106),s=n(0),u=n.n(s),d=n(17),m=n(2266),f=n(9);function v(){var e=Object(a.a)(["\n  text-align: center;\n  margin: 2rem 0;\n  padding: 1.5rem 1rem;\n  border: none;\n  border-radius: 4px;\n  margin-bottom: 1.5rem;\n  box-shadow: 1px 1px 15px rgba(0, 0, 0, 0.1);\n  border: 1px solid #dddddd;\n  background-color: #ffffff;\n  .registration-icon {\n    width: 100px;\n    height: 100px;\n    margin: 0 auto;\n    background: #f0f0f7;\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 2rem;\n    .icon {\n      color: ",";\n    }\n  }\n"]);return v=function(){return e},e}var b=function(e){var t=e.message,n=Object(m.b)().onLogin,a=Object(d.c)(o.b).t;return u.a.createElement(p,null,u.a.createElement("div",{className:"registration-icon"},u.a.createElement(r.a,{icon:"user"})),u.a.createElement(i.a,{tag:"h4",color:"dark",className:"text-center m-t-20"},"undefined"===typeof t?a("Please, log in to continue booking"):t),u.a.createElement("div",{className:"m-t-20"},u.a.createElement(c.b,{segmented:!0,align:"center"},u.a.createElement(l.c,{onClick:function(){n()}},a("Log in")),u.a.createElement(l.c,{color:"success",onClick:function(){n({source:"fastbook"})}},a("Quick registration")))))},p=f.e.div(v(),(function(e){return e.theme.colors.grey}))},2500:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(10),r=n(2246),o=n(0),i=n.n(o),c=n(2414),l=n.n(c),s=(n(2415),n(264)),u=n(9),d=n(14);n(2369);function m(){var e=Object(a.a)(['\n  .react-tel-input {\n    display: flex;\n    input,\n    input[type="text"],\n    input[type="tel"] {\n      position: relative;\n      display: flex;\n      width: 100%;\n      padding: 0 0.75rem;\n      border: 1px solid ',";\n      border-radius: ",";\n      line-height: 36px;\n      height: 36px;\n      outline: 0;\n      transition: border-color 150ms, box-shadow 150ms;\n      justify-content: space-between;\n      align-items: center;\n      background: #ffffff;\n      &:hover {\n        border-color: ",";\n      }\n      &:focus {\n        border-color: ",";\n        box-shadow: 0 0 3px ",";\n      }\n    }\n\n    .flag-dropdown {\n      order: -1;\n      position: relative;\n    }\n  }\n"]);return m=function(){return e},e}var f=Object(o.forwardRef)((function(e,t){var n=e.form,a=e.field,c=e.country,u=e.placeholder,d=e.label,m=e.tabIndex,f=e.forwardFocusRef,b=Object(o.useRef)();Object(o.useImperativeHandle)(t,(function(){var e,t,n,r;return{name:a.name,focus:null===(e=b.current)||void 0===e||null===(t=e.numberInputRef)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.bind(null===(r=b.current)||void 0===r?void 0:r.numberInputRef)}})),Object(o.useEffect)((function(){var e,t,n,r;null===f||void 0===f||f(a.name,null===(e=b.current)||void 0===e||null===(t=e.numberInputRef)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.bind(null===(r=b.current)||void 0===r?void 0:r.numberInputRef))})),Object(o.useEffect)((function(){var e,t,n,a;"function"===typeof(null===(e=b.current)||void 0===e||null===(t=e.numberInputRef)||void 0===t?void 0:t.setAttribute)&&(null===(n=b.current)||void 0===n||null===(a=n.numberInputRef)||void 0===a||a.setAttribute("tabindex",m))}),[b.current,m]);var p=Object(r.f)(n.errors,a.name),h=Object(r.f)(n.touched,a.name);return i.a.createElement(v,null,d&&i.a.createElement(s.a,null,d),i.a.createElement("div",{className:"select-container"},i.a.createElement(l.a,{regions:["ex-ussr","europe"],inputStyle:p&&h?{borderColor:"#dc3545",width:"100%"}:{width:"100%"},onBlur:function(){var e;null===n||void 0===n||null===(e=n.setFieldTouched)||void 0===e||e.call(n,null===a||void 0===a?void 0:a.name,!0)},country:(null===c||void 0===c?void 0:c.toLowerCase())||"ru",value:a.value,placeholder:u,ref:b,onChange:function(e){var t=e.match(/(\d|\+)+/g).join("");n.setFieldValue(a.name,t)}})))})),v=u.e.div(m(),(function(e){return Object(d.b)(.75,e.theme.colors.dark)}),(function(e){return"0 ".concat(e.theme.radius," ").concat(e.theme.radius," 0")}),(function(e){return Object(d.c)(e.theme.colors.primary,.5)}),(function(e){return e.theme.colors.primary}),(function(e){return Object(d.c)(e.theme.colors.primary,.5)}))},2501:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n(33),o=n(2087),i=function(e){return e.filterData.departureCities},c=function(e){return e.filterData.countries},l=Object(r.a)([i,c],(function(e,t){var n,r=e.find((function(e){return e.id===Object(o.b)()})),i=null;return r&&t&&(i=t.find((function(e){return e.id===(null===r||void 0===r?void 0:r.countryId)}))),r&&Object(a.a)({},r,{countryCode:null===(n=i)||void 0===n?void 0:n.code})}));Object(r.a)(l,c,(function(e,t){return t.find((function(t){return t.id===(null===e||void 0===e?void 0:e.countryId)}))})),Object(r.a)(i,(function(e){return e.filter((function(e){return!e.isHidden}))})),Object(r.a)([l,function(e){var t,n;return null===(t=e.settings)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.currencies}],(function(e,t){if(null===t||void 0===t?void 0:t.length)return t.map((function(e){return{id:e.id,name:e.name,code:e.name}}));if(!e||!e.countryCurrency)return[{id:2,name:"RUB",code:"RUB"}];var n=2;switch(e.countryCurrency){case"EUR":n=1;break;case"USD":n=3;break;default:n=2}return[{id:n,name:e.countryCurrency,code:e.countryCurrency}]}))},791:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n(258),o=n(0),i=n.n(o),c=n(17),l=n(2279),s=n(2233),u=function(e){return i.a.createElement("div",null,i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"For Individual Clients Reservation Policy:"),i.a.createElement("ul",null,i.a.createElement("li",null,"A valid credit card is required to process your online reservation. The Hotel reserves the right to pre-authorise credit cards prior to the guest's arrival."),i.a.createElement("li",null,"Each reservation requires a credit card deposit which will be charged to your card within 5 days and the rest of the total amount will be charged under the following payment policy.")),i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"Payment policy:"),i.a.createElement("p",null,"-50% of total amount to be paid up on confirmation (no later than 5 days)",i.a.createElement("br",null),"-50% to be paid 21 days prior to arrival",i.a.createElement("br",null),"Exceptions: For specific hotels a different payment policy may apply. Please check the confirmation document / invoice."),i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"Other"),i.a.createElement("p",null,"Overnight Tax per night, is applied by the Greek Government as of 01/01/2018 (Law 4389/2016 p.53). By law, guest pays the tax directly at the Hotel\u2019s Reception upon check out and varies according to the official rating of the accommodation as follow:"),i.a.createElement("p",null,"Apartments (all categories): 0.50 Euros per room per night"),i.a.createElement("div",null,"Hotels"),i.a.createElement("ul",null,i.a.createElement("li",null,"1-2 star: 0.50 Cents per room per night"),i.a.createElement("li",null,"3 star: 1.50 Euros per room per night"),i.a.createElement("li",null,"4 star: 3.00 Euros per room per night"),i.a.createElement("li",null,"5 star: 4.00 Euros per room per night")),i.a.createElement("p",null,"Payment can be made by cash or card. The hotel reserves the right in the event of new taxes being imposed to introduce these in accordance with Greek law.\xa0"),i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"Check-in policy"),i.a.createElement("ul",null,i.a.createElement("li",null,"Check-in time: 2:00 PM"),i.a.createElement("li",null,"Check-out time: 12:00 PM")))},d=function(e){var t=e.bookingConditions.country.id;return i.a.createElement("div",null,i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"For Individual Clients Reservation Policy:"),i.a.createElement("ul",null,i.a.createElement("li",null,"A valid credit card is required to process your online reservation. The Hotel reserves the right to pre-authorise credit cards prior to the guest's arrival."),i.a.createElement("li",null,"Each reservation requires a credit card deposit which will be charged to your card within 5 days and the rest of the total amount will be charged under the following payment policy.")),i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"Payment policy:"),i.a.createElement("p",null,"-50% of total amount to be paid up on confirmation (no later than 5 days)",i.a.createElement("br",null),"-50% to be paid 21 days prior to arrival",i.a.createElement("br",null),i.a.createElement("br",null),"Exceptions: For specific hotels a different payment policy may apply. Please check the confirmation document / invoice."),6252===t||359===t||6239===t||6228===t?i.a.createElement("div",null,i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"Other"),i.a.createElement("p",null,"The room rates include all taxes")):null,i.a.createElement(l.a,{bold:!0,tag:"h3",color:"dark",bordered:!0},"Check-in policy"),i.a.createElement("ul",null,i.a.createElement("li",null,"Check-in time: 2:00 PM"),i.a.createElement("li",null,"Check-out time: 12:00 PM")))},m=function(e){return i.a.createElement(s.a,{scrollable:!0,modalTitle:"Booking conditions",onClose:e.onClose},e.terms&&e.terms.country&&29===e.terms.country.id?i.a.createElement(u,{bookingConditions:e.terms&&e.terms}):i.a.createElement(d,{bookingConditions:e.terms&&e.terms}))};t.default=function(e){var t=Object.assign({},e),n=Object(o.useState)(!1),l=Object(a.a)(n,2),s=l[0],u=l[1],d=function(){u(!s)},f=Object(c.c)(r.b).t;return i.a.createElement("span",null,i.a.createElement("span",{className:"link dotted",onClick:d},f("booking conditions")),s&&i.a.createElement(m,{onClose:d,terms:t.tour}))}},792:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(258),r=n(2107),o=n(0),i=n.n(o),c=n(17),l=n(39),s=n(33),u=n(8),d=function(e){return e.filter.discounts},m=function(e){return e.basketData.price},f=Object(s.a)([d,function(e){return e.filterData.filter.discounts}],(function(e,t){var n=t.find((function(e){return"minus10"===e.code}));return n&&e.some((function(e){return e===n.code}))?n:null})),v=Object(s.a)([d,function(e){return e.filter.searchType},function(e){return e.toursByHotel.data},function(e){return e.hotelsGrouped.data},function(e){return e.filter.type},function(e){return e.tours.data},function(e){return e.hotels.data}],(function(e,t,n,a,r,o,i){var c=e.some((function(e){return"minus10"===e}));return u.filterConstants.SEARCH_TYPE.TOURS===t?r===u.filterConstants.RESULTS_TYPE.GROUP_BY_HOTEL?n.some((function(e){return e.tour&&e.tour.labels&&e.tour.labels.some((function(e){return"minus10"===e.code}))}))&&c:o.some((function(e){return e.tour&&e.tour.labels&&e.tour.labels.some((function(e){return"minus10"===e.code}))}))&&c:u.filterConstants.SEARCH_TYPE.HOTELS===t&&(r===u.filterConstants.RESULTS_TYPE.GROUP_BY_HOTEL?a.some((function(e){return e.tour&&e.tour.labels&&e.tour.labels.some((function(e){return"minus10"===e.code}))}))&&c:i.some((function(e){return e.tour&&e.tour.labels&&e.tour.labels.some((function(e){return"minus10"===e.code}))}))&&c)})),b=Object(s.a)(m,(function(e){var t,n;return(null===e||void 0===e||null===(t=e.details)||void 0===t||null===(n=t.discounts)||void 0===n?void 0:n.some((function(e){return"minus10"===e.code})))||!1})),p=Object(s.a)(m,(function(e){var t,n,a=null===e||void 0===e||null===(t=e.details)||void 0===t||null===(n=t.discounts)||void 0===n?void 0:n.find((function(e){return"minus10"===e.code}));return a||null})),h=n(2090),g=(n(2367),function(e){var t=e.minus10,n=e.show,o=Object(c.c)(a.c).t;return n?i.a.createElement(r.a,{className:"dashboard  minus-10-info-panel"},i.a.createElement("span",{className:"orange"},"".concat(o("Attention"),"! ").concat(o("The discount"))," ",i.a.createElement("a",{className:"link",href:Object(h.a)((null===t||void 0===t?void 0:t.url)||""),target:"_blank",rel:"noopener noreferrer"},t&&o(t.name))," ","".concat(o("is acceptable by"))," ",i.a.createElement("a",{className:"link",href:Object(h.a)((null===t||void 0===t?void 0:t.url)||""),target:"_blank",rel:"noopener noreferrer"},"".concat(o("follow conditions"))),"."," ")):null}),E=Object(l.connect)((function(e){return{minus10:p(e),show:b(e)}}))(g);Object(l.connect)((function(e){return{minus10:f(e),show:v(e)}}))(g)}}]);